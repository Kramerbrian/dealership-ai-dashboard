<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DealershipAI - Executive Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=-apple-system,BlinkMacSystemFont,SF+Pro+Display,SF+Pro+Text&display=swap" rel="stylesheet">

    <!-- Clerk Authentication -->
    <script src="https://js.clerk.dev/v4/clerk.js"></script>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>

    <!-- Facebook Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', 'YOUR_PIXEL_ID');
        fbq('track', 'PageView');
    </script>
    <style>
        :root {
            /* Apple Color System */
            --apple-blue: #007AFF;
            --apple-blue-light: #5AC8FA;
            --apple-blue-dark: #0051D8;
            --apple-green: #34C759;
            --apple-orange: #FF9500;
            --apple-red: #FF3B30;
            --apple-purple: #AF52DE;
            --apple-pink: #FF2D92;
            --apple-yellow: #FFCC00;

            /* Grayscale System */
            --white: #FFFFFF;
            --gray-50: #FAFAFA;
            --gray-100: #F5F5F7;
            --gray-200: #E5E5EA;
            --gray-300: #D1D1D6;
            --gray-400: #C7C7CC;
            --gray-500: #8E8E93;
            --gray-600: #636366;
            --gray-700: #48484A;
            --gray-800: #1C1C1E;
            --gray-900: #000000;

            /* Text Colors */
            --text-primary: #1D1D1F;
            --text-secondary: #86868B;
            --text-tertiary: #C7C7CC;

            /* Shadows */
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

            /* Border Radius */
            --radius-sm: 6px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 9999px;

            /* Transitions */
            --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);

            /* Spacing */
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 12px;
            --space-4: 16px;
            --space-5: 20px;
            --space-6: 24px;
            --space-8: 32px;
            --space-10: 40px;
            --space-12: 48px;
            --space-16: 64px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif;
            background: var(--white);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Container System */
        .cupertino-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        /* Apple Header */
        .cupertino-header {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 0.5px solid var(--gray-200);
            padding: var(--space-4) 0;
            position: sticky;
            top: 0;
            z-index: 100;
            margin-bottom: var(--space-8);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        .brand-section {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .apple-logo {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--apple-blue), var(--apple-blue-light));
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
            font-size: 14px;
            transition: var(--transition-fast);
        }

        .apple-logo:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow);
        }

        .brand-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: -0.01em;
        }

        .brand-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .header-badges {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .apple-badge {
            padding: var(--space-2) var(--space-4);
            background: var(--gray-100);
            border-radius: var(--radius-full);
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
            border: 0.5px solid var(--gray-200);
        }

        .apple-badge.pro {
            background: var(--apple-blue);
            color: var(--white);
            border: none;
        }

        .status-section {
            display: flex;
            align-items: center;
            gap: var(--space-5);
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: var(--gray-50);
            border-radius: var(--radius-full);
            border: 0.5px solid var(--gray-200);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--apple-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Apple Navigation */
        .cupertino-nav {
            background: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 0.5px solid var(--gray-200);
            padding: var(--space-2);
            margin-bottom: var(--space-8);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .nav-tabs {
            display: flex;
            gap: var(--space-1);
            min-width: min-content;
        }

        .apple-tab {
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            white-space: nowrap;
            position: relative;
            background: transparent;
            border: none;
        }

        .apple-tab:hover {
            color: var(--text-primary);
            background: var(--gray-50);
        }

        .apple-tab.active {
            color: var(--apple-blue);
            background: rgba(0, 122, 255, 0.1);
        }

        .apple-tab.active::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--apple-blue);
            border-radius: 50%;
        }

        /* Main Content */
        .cupertino-main {
            background: var(--white);
            min-height: 70vh;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Consolidated Grid & Section Styles */
        .section {
            margin-bottom: var(--space-16);
        }

        .section-header {
            font-size: 28px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-8);
            letter-spacing: -0.02em;
            line-height: 1.2;
        }

        .section-subheader {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: var(--space-6);
            font-weight: 400;
        }

        .apple-grid {
            display: grid;
            gap: var(--space-6);
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }

        /* Consolidated Card Styles */
        .apple-card {
            background: var(--white);
            border-radius: var(--radius-lg);
            border: 0.5px solid var(--gray-200);
            transition: var(--transition);
            overflow: hidden;
            position: relative;
        }

        .apple-card:hover, .apple-card.clickable:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--gray-300);
        }

        .apple-card.clickable {
            cursor: pointer;
        }

        .apple-card.clickable:active {
            transform: scale(0.98) translateY(-2px);
        }

        /* Metric Cards */
        .metric-card {
            padding: var(--space-8);
            text-align: left;
        }

        .metric-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-6);
        }

        .metric-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius);
            background: var(--gray-50);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .metric-badge {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: var(--space-1) var(--space-2);
            background: var(--gray-100);
            border-radius: var(--radius-sm);
        }

        .metric-label {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: var(--space-2);
        }

        .metric-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.1;
            margin-bottom: var(--space-4);
            font-variant-numeric: tabular-nums;
        }

        .metric-change {
            font-size: 13px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .metric-change.positive {
            color: var(--apple-green);
        }

        .metric-change.negative {
            color: var(--apple-red);
        }

        .metric-change::before {
            content: '↗';
            font-size: 12px;
        }

        .metric-change.negative::before {
            content: '↘';
        }

        /* Progress Bars */
        .progress-container {
            margin: var(--space-4) 0;
        }

        .progress-bar {
            height: 4px;
            background: var(--gray-100);
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--apple-blue);
            border-radius: var(--radius-full);
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 8px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4));
            border-radius: var(--radius-full);
        }

        /* Visibility Score Cards */
        .visibility-card {
            padding: var(--space-8);
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);
            position: relative;
        }

        .visibility-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            border-radius: var(--radius-full);
        }

        .visibility-card.seo::before {
            background: var(--apple-blue);
        }

        .visibility-card.aeo::before {
            background: var(--apple-orange);
        }

        .visibility-card.geo::before {
            background: var(--apple-red);
        }

        .score-display {
            display: flex;
            align-items: baseline;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
        }

        .score-value {
            font-size: 48px;
            font-weight: 800;
            line-height: 1;
            font-variant-numeric: tabular-nums;
        }

        .score-max {
            font-size: 20px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .formula-hint {
            font-size: 12px;
            color: var(--text-tertiary);
            font-style: italic;
            margin-top: var(--space-2);
        }

        /* Consolidated Button & Animation Styles */
        .apple-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition-fast);
            border: none;
            position: relative;
            overflow: hidden;
        }

        .apple-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .apple-btn:hover::before {
            left: 100%;
        }

        .apple-btn:hover {
            transform: translateY(-1px);
        }

        .btn-primary {
            background: var(--apple-blue);
            color: var(--white);
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            background: var(--apple-blue-dark);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--gray-100);
            color: var(--text-primary);
            border: 0.5px solid var(--gray-200);
        }

        .btn-secondary:hover {
            background: var(--gray-200);
        }

        .btn-ghost {
            background: transparent;
            color: var(--apple-blue);
        }

        .btn-ghost:hover {
            background: rgba(0, 122, 255, 0.1);
        }

        /* Consolidated Chart & Feed Styles */
        .chart-container, .live-feed {
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            border: 0.5px solid var(--gray-200);
        }

        .chart-container {
            padding: var(--space-8);
        }

        .chart-header, .feed-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: var(--space-6);
        }

        .chart-title, .feed-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .feed-title {
            font-size: 18px;
        }

        .chart-placeholder {
            height: 240px;
            background: var(--white);
            border-radius: var(--radius);
            border: 1px dashed var(--gray-300);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }

        .live-feed {
            background: var(--white);
        }

        .feed-header {
            padding: var(--space-6);
            border-bottom: 0.5px solid var(--gray-200);
        }

        .feed-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .feed-content {
            padding: 0;
        }

        .feed-item {
            padding: var(--space-4) var(--space-6);
            border-bottom: 0.5px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: between;
            transition: var(--transition-fast);
            position: relative;
        }

        .feed-item:last-child {
            border-bottom: none;
        }

        .feed-item:hover {
            background: var(--gray-50);
        }

        .feed-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: transparent;
            transition: var(--transition-fast);
        }

        .feed-item.success::before { background: var(--apple-green); }
        .feed-item.warning::before { background: var(--apple-orange); }
        .feed-item.error::before { background: var(--apple-red); }

        .feed-text {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 400;
        }

        .feed-time {
            font-size: 12px;
            color: var(--text-secondary);
            font-variant-numeric: tabular-nums;
        }

        /* Modals */
        .cupertino-modal {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: none;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .cupertino-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            animation: modalSlideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(40px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-header {
            padding: var(--space-6);
            border-bottom: 0.5px solid var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gray-100);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .modal-close:hover {
            background: var(--gray-200);
        }

        .modal-body {
            padding: var(--space-6);
            overflow-y: auto;
            max-height: 70vh;
        }

        /* Health Score Display */
        .health-score {
            text-align: center;
            padding: var(--space-10) var(--space-6);
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-8);
        }

        .health-value {
            font-size: 72px;
            font-weight: 800;
            color: var(--apple-blue);
            line-height: 1;
            margin-bottom: var(--space-2);
            font-variant-numeric: tabular-nums;
        }

        .health-label {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: var(--space-6);
        }

        .health-progress {
            width: 200px;
            height: 6px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            margin: 0 auto;
            overflow: hidden;
        }

        .health-bar {
            height: 100%;
            background: var(--apple-blue);
            border-radius: var(--radius-full);
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .cupertino-container {
                padding: var(--space-4);
            }

            .header-content {
                flex-direction: column;
                gap: var(--space-4);
                text-align: center;
            }

            .brand-section {
                flex-direction: column;
                gap: var(--space-2);
            }

            .header-badges {
                flex-wrap: wrap;
                justify-content: center;
            }

            .nav-tabs {
                justify-content: flex-start;
                padding-bottom: var(--space-2);
            }

            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }

            .section-header {
                font-size: 24px;
            }

            .metric-value {
                font-size: 28px;
            }

            .score-value {
                font-size: 36px;
            }

            .modal-content {
                width: 95%;
                margin: var(--space-4);
                max-height: 85vh;
            }
        }

        /* Loading States */
        .skeleton {
            background: linear-gradient(90deg, var(--gray-100) 25%, var(--gray-200) 50%, var(--gray-100) 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Focus States */
        .apple-tab:focus-visible,
        .apple-btn:focus-visible,
        .apple-card.clickable:focus-visible {
            outline: 2px solid var(--apple-blue);
            outline-offset: 2px;
        }

        /* Selection */
        ::selection {
            background: rgba(0, 122, 255, 0.2);
        }

        /* AI Health Dashboard Styles */
        .ai-status-banner {
            background: linear-gradient(135deg, var(--apple-blue-light), var(--apple-blue));
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius);
            margin-bottom: var(--space-6);
            color: white;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.connecting {
            background: #FFD700;
        }

        .status-dot.connected {
            background: var(--apple-green);
        }

        .status-dot.error {
            background: var(--apple-red);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .ai-platform-card {
            border-left: 4px solid var(--apple-blue);
            transition: all var(--transition);
        }

        .ai-platform-card:hover {
            border-left-color: var(--apple-green);
            transform: translateY(-2px);
        }

        .ai-platform-card[data-platform="chatgpt"] {
            border-left-color: #10A37F;
        }

        .ai-platform-card[data-platform="perplexity"] {
            border-left-color: var(--apple-purple);
        }

        .ai-platform-card[data-platform="gemini"] {
            border-left-color: var(--apple-blue);
        }

        .ai-platform-card[data-platform="claude"] {
            border-left-color: var(--apple-orange);
        }

        .ai-platform-card[data-platform="copilot"] {
            border-left-color: #0078D4;
        }

        .metric-score {
            margin-top: var(--space-4);
        }

        .score-bar {
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: var(--space-2);
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--apple-red), var(--apple-yellow), var(--apple-green));
            transition: width var(--transition);
        }

        .score-text {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .overall-health-card {
            background: linear-gradient(135deg, var(--gray-50), var(--white));
            border: 2px solid var(--apple-green);
        }

        .health-indicator {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-top: var(--space-4);
        }

        .health-ring {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: conic-gradient(var(--apple-green) 0deg, var(--gray-200) 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .health-ring::after {
            content: '';
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: white;
        }

        .health-status {
            font-weight: 600;
            color: var(--apple-green);
        }

        .recommendations-grid {
            display: grid;
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }

        .recommendation-card {
            padding: var(--space-6);
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border-left: 4px solid var(--apple-blue);
        }

        .recommendation-card.loading {
            position: relative;
            overflow: hidden;
        }

        .shimmer {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .chart-container {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .chart-placeholder {
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-50);
            border-radius: var(--radius);
        }

        .chart-loading {
            text-align: center;
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top: 3px solid var(--apple-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--space-4);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .value.large {
            font-size: 2.5rem;
            font-weight: 700;
        }

        /* Website Performance Tab Styles */
        .vitals-label {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: var(--space-1);
        }

        .vitals-status {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .vitals-status.good {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .vitals-status.needs-improvement {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .vitals-status.poor {
            background: rgba(255, 59, 48, 0.1);
            color: var(--apple-red);
        }

        .performance-metric {
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .performance-metric:last-child {
            border-bottom: none;
        }

        .metric-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .audit-score {
            display: flex;
            align-items: baseline;
            gap: 2px;
        }

        .score-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--apple-blue);
        }

        .score-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .audit-categories {
            display: grid;
            gap: var(--space-4);
        }

        .audit-category {
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .audit-category:last-child {
            border-bottom: none;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-2);
        }

        .category-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        .category-icon.good {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .category-icon.warning {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .category-icon.error {
            background: rgba(255, 59, 48, 0.1);
            color: var(--apple-red);
        }

        .category-name {
            font-weight: 500;
            color: var(--text-primary);
            flex: 1;
        }

        .category-score {
            font-weight: 600;
            font-size: 14px;
        }

        .category-score.good {
            color: var(--apple-green);
        }

        .category-score.warning {
            color: var(--apple-orange);
        }

        .category-score.error {
            color: var(--apple-red);
        }

        .category-details small {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .issue-count {
            background: var(--apple-red);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .issues-list {
            display: grid;
            gap: var(--space-4);
        }

        .issue-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            border-radius: 8px;
            background: var(--gray-50);
        }

        .issue-item.critical {
            border-left: 3px solid var(--apple-red);
        }

        .issue-item.warning {
            border-left: 3px solid var(--apple-orange);
        }

        .issue-item.info {
            border-left: 3px solid var(--apple-blue);
        }

        .issue-severity {
            font-size: 16px;
        }

        .issue-details {
            flex: 1;
        }

        .issue-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .issue-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: var(--space-1);
        }

        .issue-impact {
            font-size: 11px;
            color: var(--apple-orange);
            font-weight: 500;
        }

        .issue-action {
            background: var(--apple-blue);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .issue-action:hover {
            background: #0051D5;
            transform: translateY(-1px);
        }

        .time-selector {
            display: flex;
            gap: 4px;
        }

        .time-btn {
            padding: 4px 8px;
            border: 1px solid var(--gray-200);
            background: white;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .time-btn:hover {
            background: var(--gray-50);
        }

        .time-btn.active {
            background: var(--apple-blue);
            color: white;
            border-color: var(--apple-blue);
        }

        .trend-summary {
            display: grid;
            gap: var(--space-2);
        }

        .trend-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-2) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .trend-item:last-child {
            border-bottom: none;
        }

        .trend-metric {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .trend-change {
            font-size: 13px;
            font-weight: 500;
        }

        .trend-change.positive {
            color: var(--apple-green);
        }

        .trend-change.negative {
            color: var(--apple-red);
        }

        .recommendations-count {
            background: var(--apple-green);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .recommendations-list {
            display: grid;
            gap: var(--space-4);
        }

        .recommendation-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
            transition: all var(--transition);
        }

        .recommendation-item:hover {
            background: var(--gray-100);
        }

        .recommendation-item.high-priority {
            border-left: 3px solid var(--apple-red);
        }

        .recommendation-item.medium-priority {
            border-left: 3px solid var(--apple-orange);
        }

        .recommendation-item.low-priority {
            border-left: 3px solid var(--apple-blue);
        }

        .recommendation-icon {
            font-size: 20px;
        }

        .recommendation-details {
            flex: 1;
        }

        .recommendation-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .recommendation-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: var(--space-1);
        }

        .recommendation-impact {
            font-size: 11px;
            color: var(--apple-green);
            font-weight: 500;
        }

        .apple-btn.small {
            padding: 6px 12px;
            font-size: 12px;
        }

        .chart-container {
            position: relative;
            overflow: hidden;
        }

        /* Review Management Tab Styles */
        .platform-reviews {
            display: grid;
            gap: var(--space-4);
        }

        .platform-review-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
            transition: all var(--transition);
        }

        .platform-review-item:hover {
            background: var(--gray-100);
        }

        .platform-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .platform-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            color: white;
        }

        .platform-icon.google {
            background: #4285F4;
        }

        .platform-icon.facebook {
            background: #1877F2;
        }

        .platform-icon.yelp {
            background: #FF1A1A;
        }

        .platform-icon.cargurus {
            background: #FF6900;
        }

        .platform-details {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .platform-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .platform-stats {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .platform-actions {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .rating-stars {
            display: flex;
            gap: 2px;
        }

        .star {
            color: #FFD700;
            font-size: 14px;
        }

        .star.filled {
            opacity: 1;
        }

        .star.half {
            opacity: 0.7;
        }

        .star.empty {
            opacity: 0.3;
        }

        .platform-btn {
            padding: 6px 12px;
            background: var(--apple-blue);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .platform-btn:hover {
            background: #0051D5;
            transform: translateY(-1px);
        }

        .recent-reviews-list {
            display: grid;
            gap: var(--space-4);
        }

        .review-item {
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
            border-left: 3px solid transparent;
        }

        .review-item.urgent {
            border-left-color: var(--apple-red);
            background: rgba(255, 59, 48, 0.05);
        }

        .review-item.positive {
            border-left-color: var(--apple-green);
            background: rgba(52, 199, 89, 0.05);
        }

        .review-item.neutral {
            border-left-color: var(--apple-blue);
            background: rgba(0, 122, 255, 0.05);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .reviewer-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--apple-blue);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .reviewer-details {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .reviewer-name {
            font-weight: 500;
            color: var(--text-primary);
            font-size: 14px;
        }

        .review-platform {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
            text-transform: uppercase;
        }

        .review-platform.google {
            background: rgba(66, 133, 244, 0.1);
            color: #4285F4;
        }

        .review-platform.facebook {
            background: rgba(24, 119, 242, 0.1);
            color: #1877F2;
        }

        .review-platform.yelp {
            background: rgba(255, 26, 26, 0.1);
            color: #FF1A1A;
        }

        .review-rating {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4px;
        }

        .review-time {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .review-content p {
            margin: 0 0 var(--space-3) 0;
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.5;
        }

        .review-actions {
            display: flex;
            gap: var(--space-2);
        }

        .respond-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .respond-btn.urgent {
            background: var(--apple-red);
            color: white;
        }

        .respond-btn.positive {
            background: var(--apple-green);
            color: white;
        }

        .respond-btn.neutral {
            background: var(--apple-blue);
            color: white;
        }

        .view-btn {
            padding: 6px 12px;
            background: var(--gray-200);
            color: var(--text-primary);
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .view-btn:hover {
            background: var(--gray-300);
        }

        .time-period-selector {
            display: flex;
            gap: 4px;
        }

        .period-btn {
            padding: 4px 8px;
            border: 1px solid var(--gray-200);
            background: white;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .period-btn:hover {
            background: var(--gray-50);
        }

        .period-btn.active {
            background: var(--apple-blue);
            color: white;
            border-color: var(--apple-blue);
        }

        .analytics-grid {
            display: grid;
            gap: var(--space-4);
        }

        .analytics-stat {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
        }

        .stat-value.good {
            color: var(--apple-green);
        }

        .stat-value.neutral {
            color: var(--apple-blue);
        }

        .stat-value.warning {
            color: var(--apple-red);
        }

        .stat-bar {
            width: 100%;
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            transition: width 1s ease;
        }

        .stat-fill.good {
            background: var(--apple-green);
        }

        .stat-fill.neutral {
            background: var(--apple-blue);
        }

        .stat-fill.warning {
            background: var(--apple-red);
        }

        .keyword-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-2);
        }

        .keyword {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .keyword.positive {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .keyword.neutral {
            background: rgba(0, 122, 255, 0.1);
            color: var(--apple-blue);
        }

        .keyword.warning {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .template-list {
            display: grid;
            gap: var(--space-4);
        }

        .template-item {
            padding: var(--space-4);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            background: white;
        }

        .template-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2);
        }

        .template-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .template-usage {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .template-preview {
            font-size: 13px;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: var(--space-3);
            line-height: 1.4;
        }

        .template-actions {
            display: flex;
            gap: var(--space-2);
        }

        .template-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .template-btn {
            background: var(--apple-blue);
            color: white;
        }

        .template-btn.secondary {
            background: var(--gray-200);
            color: var(--text-primary);
        }

        .template-btn:hover {
            transform: translateY(-1px);
        }

        .action-stats {
            display: flex;
            gap: var(--space-3);
        }

        .action-stat {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .action-stat.urgent {
            background: var(--apple-red);
            color: white;
        }

        .action-stat.pending {
            background: var(--apple-orange);
            color: white;
        }

        .action-stat.completed {
            background: var(--apple-green);
            color: white;
        }

        .action-items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-4);
        }

        .action-item-card {
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
            cursor: pointer;
            transition: all var(--transition);
            border-left: 3px solid transparent;
        }

        .action-item-card:hover {
            background: var(--gray-100);
            transform: translateY(-2px);
        }

        .action-item-card.urgent {
            border-left-color: var(--apple-red);
        }

        .action-item-card.pending {
            border-left-color: var(--apple-orange);
        }

        .action-item-card.positive {
            border-left-color: var(--apple-green);
        }

        .action-item-card.info {
            border-left-color: var(--apple-blue);
        }

        .action-icon {
            font-size: 24px;
            margin-bottom: var(--space-2);
        }

        .action-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .action-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: var(--space-2);
        }

        .action-timeline {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: var(--space-3);
        }

        .action-button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            width: 100%;
        }

        .action-button.urgent {
            background: var(--apple-red);
            color: white;
        }

        .action-button.pending {
            background: var(--apple-orange);
            color: white;
        }

        .action-button.positive {
            background: var(--apple-green);
            color: white;
        }

        .action-button.info {
            background: var(--apple-blue);
            color: white;
        }

        .action-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* Settings Tab Styles */
        .settings-nav {
            display: flex;
            gap: var(--space-2);
            padding: var(--space-2);
            background: var(--gray-50);
            border-radius: 12px;
        }

        .settings-nav-btn {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            border: none;
            background: transparent;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition);
        }

        .settings-nav-btn:hover {
            background: white;
            color: var(--text-primary);
        }

        .settings-nav-btn.active {
            background: var(--apple-blue);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 122, 255, 0.25);
        }

        .settings-icon {
            font-size: 16px;
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .settings-section-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-8);
        }

        .setting-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .setting-status.saved {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .setting-group {
            display: grid;
            gap: var(--space-6);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            flex: 1;
        }

        .setting-label label {
            font-weight: 500;
            color: var(--text-primary);
            display: block;
            margin-bottom: 2px;
        }

        .setting-label small {
            color: var(--text-secondary);
            font-size: 13px;
        }

        .setting-select {
            padding: 8px 12px;
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            background: white;
            font-size: 14px;
            color: var(--text-primary);
            min-width: 160px;
        }

        .setting-select.small {
            min-width: 120px;
            padding: 6px 10px;
            font-size: 13px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray-300);
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--apple-blue);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        .business-info {
            display: grid;
            gap: var(--space-4);
        }

        .business-field {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .business-field label {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .business-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .refresh-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 13px;
            color: var(--text-secondary);
        }

        .refresh-setting {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .refresh-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .api-status-grid {
            display: grid;
            gap: var(--space-4);
        }

        .api-status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            background: var(--gray-50);
            border-radius: 8px;
        }

        .api-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .api-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 14px;
        }

        .api-icon.google {
            background: #4285F4;
        }

        .api-icon.facebook {
            background: #1877F2;
        }

        .api-icon.yelp {
            background: #FF1A1A;
        }

        .api-icon.supabase {
            background: #3ECF8E;
        }

        .api-details {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .api-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .api-endpoint {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 13px;
            font-weight: 500;
        }

        .api-status.connected {
            color: var(--apple-green);
        }

        .api-status.warning {
            color: var(--apple-orange);
        }

        .api-status .status-dot.warning {
            background: var(--apple-orange);
        }

        .rate-limit-list {
            display: grid;
            gap: var(--space-4);
        }

        .rate-limit-item {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .rate-limit-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .rate-limit-usage {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .rate-limit-bar {
            width: 100%;
            height: 4px;
            background: var(--gray-200);
            border-radius: 2px;
            overflow: hidden;
        }

        .rate-limit-fill {
            height: 100%;
            transition: width 1s ease;
        }

        .api-key-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        .key-status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .key-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .key-value {
            font-weight: 500;
            color: var(--text-primary);
        }

        .key-value.encrypted {
            color: var(--apple-green);
        }

        .key-value.enabled {
            color: var(--apple-blue);
        }

        .api-key-actions {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
        }

        .api-key-btn {
            padding: 6px 12px;
            background: var(--gray-200);
            color: var(--text-primary);
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .api-key-btn:hover {
            background: var(--gray-300);
            transform: translateY(-1px);
        }

        .notification-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 13px;
            color: var(--text-secondary);
        }

        .notification-categories {
            display: grid;
            gap: var(--space-6);
        }

        .notification-category {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-header h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0;
        }

        .notification-options {
            display: grid;
            gap: var(--space-2);
            margin-left: var(--space-4);
        }

        .notification-option {
            display: flex;
            align-items: center;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 14px;
            color: var(--text-primary);
            cursor: pointer;
        }

        .checkbox-label input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--apple-blue);
        }

        .delivery-methods {
            display: grid;
            gap: var(--space-4);
        }

        .delivery-method {
            padding: var(--space-4);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            background: white;
        }

        .method-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
        }

        .method-icon {
            font-size: 20px;
        }

        .method-info {
            flex: 1;
        }

        .method-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .method-address {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .method-schedule {
            margin-left: 43px;
        }

        .method-note {
            font-size: 12px;
            color: var(--text-secondary);
            margin-left: 43px;
        }

        .method-config {
            padding: 4px 8px;
            background: var(--apple-blue);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            margin-left: 43px;
        }

        .team-members-list {
            display: grid;
            gap: var(--space-4);
        }

        .team-member {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            background: var(--gray-50);
            border-radius: 8px;
        }

        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 16px;
        }

        .member-avatar.admin {
            background: var(--apple-blue);
        }

        .member-avatar.manager {
            background: var(--apple-green);
        }

        .member-avatar.basic {
            background: var(--apple-orange);
        }

        .member-info {
            flex: 1;
        }

        .member-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .member-email {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .member-role {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .member-role.admin {
            background: rgba(0, 122, 255, 0.1);
            color: var(--apple-blue);
        }

        .member-role.manager {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .member-role.basic {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .member-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .member-status.active {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .member-status.pending {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .role-selector {
            display: flex;
            align-items: center;
        }

        .permissions-grid {
            display: grid;
            gap: var(--space-6);
        }

        .permission-category h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0 0 var(--space-3) 0;
            font-size: 14px;
        }

        .permission-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-2) 0;
            font-size: 13px;
        }

        .permission-status {
            font-weight: 600;
        }

        .permission-status.allowed {
            color: var(--apple-green);
        }

        .permission-status.denied {
            color: var(--apple-red);
        }

        .security-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 13px;
            color: var(--text-secondary);
        }

        .security-options {
            display: grid;
            gap: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .security-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--space-4);
        }

        .security-info {
            flex: 1;
        }

        .security-info h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .security-info p {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0;
        }

        .security-actions {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
        }

        .security-btn {
            padding: 6px 12px;
            background: var(--gray-200);
            color: var(--text-primary);
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .security-btn:hover {
            background: var(--gray-300);
            transform: translateY(-1px);
        }

        .privacy-settings {
            display: grid;
            gap: var(--space-6);
        }

        .privacy-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--space-4);
        }

        .privacy-info {
            flex: 1;
        }

        .privacy-info h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .privacy-info p {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0;
        }

        .compliance-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .compliance-status.enabled {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .danger-warning {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 13px;
            color: var(--apple-red);
            font-weight: 500;
        }

        .danger-actions {
            display: grid;
            gap: var(--space-6);
        }

        .danger-action {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--space-4);
        }

        .danger-info {
            flex: 1;
        }

        .danger-info h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .danger-info p {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0;
        }

        .danger-btn {
            padding: 8px 16px;
            background: var(--apple-red);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
        }

        .danger-btn:hover {
            background: #D70015;
            transform: translateY(-1px);
        }

        .settings-footer {
            display: flex;
            justify-content: center;
            gap: var(--space-4);
            margin-top: var(--space-16);
            padding-top: var(--space-8);
            border-top: 1px solid var(--gray-200);
        }

        .apple-btn.large {
            padding: var(--space-4) var(--space-8);
            font-size: 16px;
            font-weight: 600;
        }

        /* Schema Optimization Tab Styles */
        .schema-types-list {
            display: grid;
            gap: var(--space-4);
        }

        .schema-type-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
            transition: all var(--transition);
        }

        .schema-type-item:hover {
            background: var(--gray-100);
        }

        .schema-type-item.implemented {
            border-left: 3px solid var(--apple-green);
            background: rgba(52, 199, 89, 0.05);
        }

        .schema-type-item.partial {
            border-left: 3px solid var(--apple-orange);
            background: rgba(255, 149, 0, 0.05);
        }

        .schema-type-item.missing {
            border-left: 3px solid var(--apple-red);
            background: rgba(255, 59, 48, 0.05);
        }

        .schema-type-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            flex: 1;
        }

        .schema-type-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .schema-type-icon.business {
            background: rgba(0, 122, 255, 0.1);
        }

        .schema-type-icon.product {
            background: rgba(52, 199, 89, 0.1);
        }

        .schema-type-icon.local {
            background: rgba(255, 149, 0, 0.1);
        }

        .schema-type-icon.review {
            background: rgba(255, 204, 0, 0.1);
        }

        .schema-type-icon.service {
            background: rgba(88, 86, 214, 0.1);
        }

        .schema-type-icon.faq {
            background: rgba(255, 59, 48, 0.1);
        }

        .schema-type-details {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .schema-type-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .schema-type-status {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .schema-type-health {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            min-width: 50px;
            text-align: center;
        }

        .schema-type-health.excellent {
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .schema-type-health.good {
            background: rgba(0, 122, 255, 0.1);
            color: var(--apple-blue);
        }

        .schema-type-health.warning {
            background: rgba(255, 149, 0, 0.1);
            color: var(--apple-orange);
        }

        .schema-type-health.critical {
            background: rgba(255, 59, 48, 0.1);
            color: var(--apple-red);
        }

        .schema-action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            background: var(--apple-blue);
            color: white;
        }

        .schema-action-btn:hover {
            background: #0051D5;
            transform: translateY(-1px);
        }

        .schema-activities-list {
            display: grid;
            gap: var(--space-4);
        }

        .schema-activity-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
        }

        .schema-activity-item.success {
            border-left: 3px solid var(--apple-green);
        }

        .schema-activity-item.warning {
            border-left: 3px solid var(--apple-orange);
        }

        .schema-activity-item.info {
            border-left: 3px solid var(--apple-blue);
        }

        .activity-icon {
            font-size: 20px;
        }

        .activity-details {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .activity-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: var(--space-1);
        }

        .activity-time {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .activity-impact {
            font-size: 12px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 12px;
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .issue-count {
            display: flex;
            gap: var(--space-2);
        }

        .issue-critical {
            background: var(--apple-red);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .issue-warning {
            background: var(--apple-orange);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .validation-issues-list {
            display: grid;
            gap: var(--space-4);
        }

        .validation-issue {
            display: flex;
            gap: var(--space-3);
            padding: var(--space-4);
            border-radius: 8px;
            background: var(--gray-50);
        }

        .validation-issue.critical {
            border-left: 3px solid var(--apple-red);
        }

        .validation-issue.warning {
            border-left: 3px solid var(--apple-orange);
        }

        .issue-severity {
            font-size: 16px;
        }

        .issue-details {
            flex: 1;
        }

        .issue-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .issue-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: var(--space-1);
        }

        .issue-pages {
            font-size: 11px;
            color: var(--text-secondary);
            font-family: monospace;
        }

        .issue-fix-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            background: var(--apple-green);
            color: white;
        }

        .issue-fix-btn:hover {
            background: #28CD41;
            transform: translateY(-1px);
        }

        .aeo-score {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .score-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .score-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--apple-red);
        }

        .aeo-categories {
            display: grid;
            gap: var(--space-4);
        }

        .aeo-category {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .category-score {
            font-size: 14px;
            font-weight: 700;
        }

        .category-score.excellent {
            color: var(--apple-green);
        }

        .category-score.good {
            color: var(--apple-blue);
        }

        .category-score.warning {
            color: var(--apple-orange);
        }

        .category-bar {
            width: 100%;
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
        }

        .category-fill {
            height: 100%;
            transition: width 1s ease;
        }

        .category-fill.excellent {
            background: var(--apple-green);
        }

        .category-fill.good {
            background: var(--apple-blue);
        }

        .category-fill.warning {
            background: var(--apple-orange);
        }

        .category-details {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .aeo-recommendation-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            border-radius: 8px;
            background: var(--gray-50);
            margin-bottom: var(--space-2);
        }

        .aeo-recommendation-item.high-priority {
            border-left: 3px solid var(--apple-red);
        }

        .aeo-recommendation-item.medium-priority {
            border-left: 3px solid var(--apple-orange);
        }

        .recommendation-icon {
            font-size: 18px;
        }

        .recommendation-details {
            flex: 1;
        }

        .recommendation-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .recommendation-impact {
            font-size: 12px;
            color: var(--apple-green);
            font-weight: 500;
        }

        .aeo-action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            background: var(--apple-red);
            color: white;
        }

        .aeo-action-btn:hover {
            background: #D70015;
            transform: translateY(-1px);
        }

        .generator-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            background: rgba(52, 199, 89, 0.1);
            color: var(--apple-green);
        }

        .schema-generator {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .generator-form {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .generator-select, .generator-input {
            padding: 10px 12px;
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            font-size: 14px;
            color: var(--text-primary);
            background: white;
        }

        .generator-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .option-checkbox {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 14px;
            color: var(--text-primary);
            cursor: pointer;
        }

        .option-checkbox input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--apple-blue);
        }

        .generator-output {
            margin-top: var(--space-4);
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
            font-weight: 500;
        }

        .copy-btn {
            padding: 4px 8px;
            background: var(--apple-blue);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            padding: var(--space-4);
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: var(--text-primary);
            overflow-x: auto;
            white-space: pre;
        }

        .bulk-progress {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .progress-text {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .progress-bar.small {
            height: 4px;
            width: 100px;
        }

        .bulk-operations {
            display: grid;
            gap: var(--space-4);
        }

        .bulk-operation-item {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-4);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            background: white;
        }

        .bulk-operation-info {
            flex: 1;
        }

        .bulk-operation-info h4 {
            font-weight: 500;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .bulk-operation-info p {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0;
        }

        .bulk-operation-stats {
            display: flex;
            flex-direction: column;
            gap: 2px;
            align-items: center;
        }

        .stat {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .bulk-action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            background: var(--apple-blue);
            color: white;
        }

        .bulk-action-btn:hover {
            background: #0051D5;
            transform: translateY(-1px);
        }

        .bulk-action-btn:disabled {
            background: var(--gray-300);
            color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }
    </style>
</head>
<body>
    <div class="cupertino-container">
        <!-- Apple Header -->
        <header class="cupertino-header">
            <div class="header-content">
                <div class="brand-section">
                    <div class="apple-logo">dAI</div>
                    <div>
                        <div class="brand-title">DealershipAI</div>
                        <div class="brand-subtitle">Executive Command Center</div>
                    </div>
                    <div class="header-badges">
                        <div class="apple-badge">Premium Auto Dealership</div>
                        <div class="apple-badge">Cape Coral, FL</div>
                        <div class="apple-badge pro">PRO</div>
                    </div>
                </div>
                <div class="status-section">
                    <div class="live-indicator">
                        <div class="status-dot"></div>
                        <span class="status-text" data-connection-status="true">Live</span>
                    </div>
                    <div class="status-text" id="current-time">Jan 10, 2025 2:45 PM</div>
                </div>
            </div>
        </header>

        <!-- Apple Navigation -->
        <nav class="cupertino-nav">
            <div class="nav-tabs">
                <button class="apple-tab active" onclick="switchTab('overview')">Overview</button>
                <button class="apple-tab" onclick="switchTab('ai-health')">AI Health</button>
                <button class="apple-tab" onclick="switchTab('website')">Website Performance</button>
                <button class="apple-tab" onclick="switchTab('schema')">Schema Optimization</button>
                <button class="apple-tab" onclick="switchTab('reviews')">Review Management</button>
                <button class="apple-tab" onclick="switchTab('mystery-shop')">Mystery Shop</button>
                <button class="apple-tab" onclick="switchTab('settings')">Settings</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="cupertino-main">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <!-- Visibility Scores Section -->
                <section class="section">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                        <div>
                            <h1 class="section-header" style="margin-bottom: var(--space-2);">Visibility Performance</h1>
                            <p class="section-subheader" style="margin-bottom: 0;">Real-time weighted visibility scores across search channels</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                            <div style="display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2) var(--space-4); background: var(--gray-50); border-radius: var(--radius-full); border: 0.5px solid var(--gray-200);">
                                <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%; animation: pulse 2s infinite;"></div>
                                <div style="font-size: 12px; color: var(--text-secondary); font-weight: 500;" data-connection-status="true">7/8 Platforms Connected</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2) var(--space-4); background: var(--gray-50); border-radius: var(--radius-full); border: 0.5px solid var(--gray-200);">
                                <div style="font-size: 12px;">🔗</div>
                                <div style="font-size: 12px; color: var(--text-secondary); font-weight: 500;">Ecosystem Health: 94%</div>
                            </div>
                        </div>
                    </div>

                    <div class="apple-grid grid-3">
                        <div class="apple-card clickable visibility-card seo" onclick="openModal('seo-modal')">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">🔍</div>
                                <div class="metric-badge">Traditional</div>
                            </div>
                            <div class="metric-label">SEO Visibility</div>
                            <div class="score-display">
                                <div class="score-value" style="color: var(--apple-blue);">87.3</div>
                                <div class="score-max">/100</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 87.3%"></div>
                                </div>
                            </div>
                            <div class="metric-change positive">Strong performance</div>
                            <div class="formula-hint">Mentions 20% • Citations 25% • Sentiment 15% • Content 25% • Share 15%</div>
                        </div>

                        <div class="apple-card clickable visibility-card aeo" onclick="openModal('aeo-modal')">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">🎯</div>
                                <div class="metric-badge">Answer Engines</div>
                            </div>
                            <div class="metric-label">AEO Visibility</div>
                            <div class="score-display">
                                <div class="score-value" style="color: var(--apple-orange);">73.8</div>
                                <div class="score-max">/100</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 73.8%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-change positive">Improving</div>
                            <div class="formula-hint">Mentions 30% • Citations 35% • Sentiment 10% • Content 15% • Share 10%</div>
                        </div>

                        <div class="apple-card clickable visibility-card geo" onclick="openModal('geo-modal')">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 59, 48, 0.1); color: var(--apple-red);">🤖</div>
                                <div class="metric-badge">AI Models</div>
                            </div>
                            <div class="metric-label">GEO Visibility</div>
                            <div class="score-display">
                                <div class="score-value" style="color: var(--apple-red);">65.2</div>
                                <div class="score-max">/100</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 65.2%; background: var(--apple-red)"></div>
                                </div>
                            </div>
                            <div class="metric-change negative">Needs attention</div>
                            <div class="formula-hint">Mentions 25% • Citations 30% • Sentiment 20% • Content 15% • Share 10%</div>
                        </div>
                    </div>
                </section>

                <!-- Key Metrics Section -->
                <section class="section">
                    <h2 class="section-header">Performance Overview</h2>

                    <div class="apple-grid grid-4">
                        <div class="apple-card metric-card">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(52, 199, 89, 0.1); color: var(--apple-green);">💰</div>
                                <div class="metric-badge">Q1 2025</div>
                            </div>
                            <div class="metric-label">Revenue at Risk</div>
                            <div class="metric-value">$367K</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%; background: var(--apple-green)"></div>
                                </div>
                            </div>
                            <div class="metric-change positive">Projected growth</div>
                        </div>

                        <div class="apple-card metric-card">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">📊</div>
                                <div class="metric-badge">Live</div>
                            </div>
                            <div class="metric-label">Search Visibility</div>
                            <div class="metric-value">92%</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 92%"></div>
                                </div>
                            </div>
                            <div class="metric-change positive">Active monitoring</div>
                        </div>

                        <div class="apple-card metric-card">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">🌐</div>
                                <div class="metric-badge">Technical</div>
                            </div>
                            <div class="metric-label">Website Health</div>
                            <div class="metric-value">87</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 87%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-change negative">3 issues</div>
                        </div>

                        <div class="apple-card metric-card">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(175, 82, 222, 0.1); color: var(--apple-purple);">🕵️</div>
                                <div class="metric-badge">Manual</div>
                            </div>
                            <div class="metric-label">Mystery Shop</div>
                            <div class="metric-value">78</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%; background: var(--apple-purple)"></div>
                                </div>
                            </div>
                            <div class="metric-change">2 weeks ago</div>
                        </div>
                    </div>
                </section>

                <!-- Executive Intelligence Section -->
                <section class="section">
                    <h2 class="section-header">Executive Intelligence</h2>
                    <p class="section-subheader">Strategic insights and market intelligence for leadership decisions</p>

                    <div class="apple-grid grid-2">
                        <!-- ROI Attribution Dashboard -->
                        <div class="apple-card" style="padding: var(--space-8);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                <div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">ROI Attribution</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Visibility impact on actual revenue</div>
                                </div>
                                <div style="font-size: 24px;">💰</div>
                            </div>

                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-4); margin-bottom: var(--space-6);">
                                <div style="text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--apple-green); margin-bottom: var(--space-1);">$2.3M</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">SEO Attribution</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--apple-blue); margin-bottom: var(--space-1);">$890K</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">AI Citation Value</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--apple-orange); margin-bottom: var(--space-1);">$567K</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">GMB Performance</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--apple-purple); margin-bottom: var(--space-1);">32%</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Total ROI</div>
                                </div>
                            </div>

                            <div style="padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius); border-left: 3px solid var(--apple-green);">
                                <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Key Insight</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">AI citations drive 23% higher conversion rates than traditional search</div>
                            </div>
                        </div>

                        <!-- Market Opportunity Scoring -->
                        <div class="apple-card" style="padding: var(--space-8);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                <div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Market Opportunities</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">AI-powered opportunity identification</div>
                                </div>
                                <div style="font-size: 24px;">🎯</div>
                            </div>

                            <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(52, 199, 89, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-green);">
                                    <div>
                                        <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">Electric Vehicle Market</div>
                                        <div style="font-size: 11px; color: var(--text-secondary);">High search volume, low competition</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-green);">94</div>
                                        <div style="font-size: 10px; color: var(--text-secondary);">score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(255, 149, 0, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-orange);">
                                    <div>
                                        <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">Service After Hours</div>
                                        <div style="font-size: 11px; color: var(--text-secondary);">Emerging demand in voice search</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-orange);">78</div>
                                        <div style="font-size: 10px; color: var(--text-secondary);">score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(0, 122, 255, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-blue);">
                                    <div>
                                        <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">Lease Return Program</div>
                                        <div style="font-size: 11px; color: var(--text-secondary);">Growing AI citation opportunity</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-blue);">71</div>
                                        <div style="font-size: 10px; color: var(--text-secondary);">score</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Premium Command Center Section -->
                <section class="section">
                    <h2 class="section-header">Command Center</h2>
                    <p class="section-subheader">One-click orchestration across your entire digital ecosystem</p>

                    <div class="apple-grid grid-4">
                        <!-- One-Click Fixes -->
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, rgba(255, 59, 48, 0.05), var(--white)); border-left: 3px solid var(--apple-red);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🚨</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Emergency Fixes</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Auto-resolve critical issues</div>
                            <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                <button class="apple-btn btn-primary" style="font-size: 12px; width: 100%;">Fix All Critical</button>
                                <div style="font-size: 10px; color: var(--text-tertiary);">3 issues detected</div>
                            </div>
                        </div>

                        <!-- Bulk Actions -->
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">⚡</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Bulk Actions</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Mass updates across platforms</div>
                            <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Update All Profiles</button>
                                <div style="font-size: 10px; color: var(--text-tertiary);">7 platforms ready</div>
                            </div>
                        </div>

                        <!-- Campaign Orchestration -->
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, rgba(0, 122, 255, 0.05), var(--white)); border-left: 3px solid var(--apple-blue);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🎺</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Campaign Launch</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Coordinated multi-channel</div>
                            <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Launch Campaign</button>
                                <div style="font-size: 10px; color: var(--text-tertiary);">6 channels selected</div>
                            </div>
                        </div>

                        <!-- AI Content Optimization -->
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🤖</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">AI Optimization</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Content for AI training</div>
                            <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Optimize Content</button>
                                <div style="font-size: 10px; color: var(--text-tertiary);">12 pages ready</div>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Command Controls -->
                    <div style="margin-top: var(--space-8); padding: var(--space-6); background: linear-gradient(135deg, var(--gray-50), var(--white)); border-radius: var(--radius-lg); border: 0.5px solid var(--gray-200);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4);">
                            <div>
                                <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Advanced Operations</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Enterprise-grade automation and control</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2);">
                                <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%;"></div>
                                <div style="font-size: 12px; color: var(--apple-green); font-weight: 500;">All Systems Ready</div>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-3);">
                            <button class="apple-btn btn-secondary" style="justify-content: flex-start; gap: var(--space-3);">
                                <div style="font-size: 16px;">🔄</div>
                                <div style="text-align: left;">
                                    <div style="font-size: 12px; font-weight: 600;">Full Ecosystem Sync</div>
                                    <div style="font-size: 10px; opacity: 0.7;">All platforms & data</div>
                                </div>
                            </button>

                            <button class="apple-btn btn-secondary" style="justify-content: flex-start; gap: var(--space-3);">
                                <div style="font-size: 16px;">🎯</div>
                                <div style="text-align: left;">
                                    <div style="font-size: 12px; font-weight: 600;">Competitor Response</div>
                                    <div style="font-size: 10px; opacity: 0.7;">Automated counter-strategy</div>
                                </div>
                            </button>

                            <button class="apple-btn btn-secondary" style="justify-content: flex-start; gap: var(--space-3);">
                                <div style="font-size: 16px;">📊</div>
                                <div style="text-align: left;">
                                    <div style="font-size: 12px; font-weight: 600;">Executive Report</div>
                                    <div style="font-size: 10px; opacity: 0.7;">Board-ready insights</div>
                                </div>
                            </button>

                            <button class="apple-btn btn-secondary" style="justify-content: flex-start; gap: var(--space-3);">
                                <div style="font-size: 16px;">🔒</div>
                                <div style="text-align: left;">
                                    <div style="font-size: 12px; font-weight: 600;">Crisis Management</div>
                                    <div style="font-size: 10px; opacity: 0.7;">Emergency protocols</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Focus Areas Section -->
                <section class="section">
                    <h2 class="section-header">Priority Focus</h2>

                    <div class="apple-grid grid-3">
                        <div class="apple-card clickable" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(255, 59, 48, 0.05) 0%, var(--white) 100%); border-left: 3px solid var(--apple-red);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                <div style="display: flex; align-items: center; gap: var(--space-2);">
                                    <div style="width: 8px; height: 8px; background: var(--apple-red); border-radius: 50%;"></div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--apple-red); text-transform: uppercase;">Critical</div>
                                </div>
                                <div style="font-size: 18px;">🤖</div>
                            </div>
                            <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">GEO Citations</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">AI models citing 67% below target</div>
                            <div style="display: flex; gap: var(--space-2);">
                                <button class="apple-btn btn-primary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Fix Now</button>
                                <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Details</button>
                            </div>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(255, 149, 0, 0.05) 0%, var(--white) 100%); border-left: 3px solid var(--apple-orange);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                <div style="display: flex; align-items: center; gap: var(--space-2);">
                                    <div style="width: 8px; height: 8px; background: var(--apple-orange); border-radius: 50%;"></div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--apple-orange); text-transform: uppercase;">Important</div>
                                </div>
                                <div style="font-size: 18px;">🔍</div>
                            </div>
                            <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Schema Markup</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">3 pages missing AutoDealer schema</div>
                            <div style="display: flex; gap: var(--space-2);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Schedule</button>
                                <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">View</button>
                            </div>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(52, 199, 89, 0.05) 0%, var(--white) 100%); border-left: 3px solid var(--apple-green);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                <div style="display: flex; align-items: center; gap: var(--space-2);">
                                    <div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--apple-green); text-transform: uppercase;">Maintain</div>
                                </div>
                                <div style="font-size: 18px;">⭐</div>
                            </div>
                            <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Review Response</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">92% rate performing well</div>
                            <div style="display: flex; gap: var(--space-2);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Monitor</button>
                                <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">History</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section class="section">
                    <h2 class="section-header">Analytics</h2>

                    <div class="apple-grid grid-2">
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Monthly Impression Trend</div>
                                <button class="apple-btn btn-ghost">Export</button>
                            </div>
                            <div class="chart-placeholder">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-2);">
                                    <div style="font-size: 18px;">📈</div>
                                    <div style="font-size: 14px; font-weight: 500; color: var(--text-primary);">Funnel Impression Analytics</div>
                                    <div style="display: flex; gap: var(--space-4); font-size: 12px; color: var(--text-secondary);">
                                        <span style="display: flex; align-items: center; gap: var(--space-1);"><div style="width: 8px; height: 8px; background: var(--apple-blue); border-radius: 50%;"></div>Upper Funnel</span>
                                        <span style="display: flex; align-items: center; gap: var(--space-1);"><div style="width: 8px; height: 8px; background: var(--apple-orange); border-radius: 50%;"></div>Mid Funnel</span>
                                        <span style="display: flex; align-items: center; gap: var(--space-1);"><div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>Lower Funnel</span>
                                    </div>
                                    <div style="font-size: 11px; color: var(--text-tertiary); text-align: center; margin-top: var(--space-2);">Brand Awareness → Shopping Intent → Purchase Ready</div>
                                </div>
                            </div>
                        </div>

                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Traffic Sources</div>
                                <button class="apple-btn btn-ghost">Details</button>
                            </div>
                            <div class="chart-placeholder">🥧 Traffic distribution chart</div>
                        </div>
                    </div>
                </section>

                <!-- Quick Actions Section -->
                <section class="section">
                    <h2 class="section-header">Quick Actions</h2>

                    <div class="apple-grid grid-4">
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🚀</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Run Audit</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Comprehensive analysis</div>
                            <button class="apple-btn btn-primary" style="font-size: 12px; width: 100%;">Start Now</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">📊</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Generate Report</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Executive summary</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Create</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🔧</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Fix Issues</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Auto-remediation</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Fix All</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">📈</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">View Trends</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Historical data</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Explore</button>
                        </div>
                    </div>
                </section>

                <!-- Connected Ecosystem Section -->
                <section class="section">
                    <h2 class="section-header">Connected Ecosystem</h2>
                    <p class="section-subheader">Unified intelligence across your entire digital stack</p>

                    <div class="apple-grid grid-3">
                        <!-- Data Sources -->
                        <div class="apple-card" style="padding: var(--space-6);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4);">
                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Data Sources</div>
                                <div style="display: flex; align-items: center; gap: var(--space-1);">
                                    <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%;"></div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">7 Active</div>
                                </div>
                            </div>

                            <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🔗</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Google Analytics</div>
                                    </div>
                                    <div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🔍</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Search Console</div>
                                    </div>
                                    <div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">📍</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Google My Business</div>
                                    </div>
                                    <div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">📘</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Facebook Business</div>
                                    </div>
                                    <div style="width: 8px; height: 8px; background: var(--apple-orange); border-radius: 50%;"></div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🌟</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Yelp API</div>
                                    </div>
                                    <div style="width: 8px; height: 8px; background: var(--apple-red); border-radius: 50%;"></div>
                                </div>
                            </div>

                            <button class="apple-btn btn-ghost" style="font-size: 12px; width: 100%; margin-top: var(--space-4);">Manage Connections</button>
                        </div>

                        <!-- AI Platforms -->
                        <div class="apple-card" style="padding: var(--space-6);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4);">
                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">AI Platform Intelligence</div>
                                <div style="display: flex; align-items: center; gap: var(--space-1);">
                                    <div style="width: 6px; height: 6px; background: var(--apple-orange); border-radius: 50%;"></div>
                                    <div style="font-size: 11px; color: var(--apple-orange); font-weight: 500;">Live Tracking</div>
                                </div>
                            </div>

                            <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🤖</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">ChatGPT</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 10px; color: var(--text-secondary);">78 citations</div>
                                        <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">85 score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🔷</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Google Gemini</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 10px; color: var(--text-secondary);">12 citations</div>
                                        <div style="font-size: 11px; color: var(--apple-red); font-weight: 500;">62 score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🔍</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Perplexity AI</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 10px; color: var(--text-secondary);">65 citations</div>
                                        <div style="font-size: 11px; color: var(--apple-orange); font-weight: 500;">73 score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🪟</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Microsoft Copilot</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 10px; color: var(--text-secondary);">8 citations</div>
                                        <div style="font-size: 11px; color: var(--apple-red); font-weight: 500;">58 score</div>
                                    </div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 16px;">🧠</div>
                                        <div style="font-size: 13px; color: var(--text-primary);">Claude AI</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="font-size: 10px; color: var(--text-secondary);">34 citations</div>
                                        <div style="font-size: 11px; color: var(--apple-orange); font-weight: 500;">71 score</div>
                                    </div>
                                </div>
                            </div>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); margin-top: var(--space-4);">
                                <button class="apple-btn btn-ghost" style="font-size: 11px; padding: var(--space-2);">Citation Audit</button>
                                <button class="apple-btn btn-ghost" style="font-size: 11px; padding: var(--space-2);">Optimize Content</button>
                            </div>
                        </div>

                        <!-- System Health -->
                        <div class="apple-card" style="padding: var(--space-6);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4);">
                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">System Health</div>
                                <div style="display: flex; align-items: center; gap: var(--space-1);">
                                    <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%;"></div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">Operational</div>
                                </div>
                            </div>

                            <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="font-size: 13px; color: var(--text-primary);">API Response Time</div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">142ms</div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="font-size: 13px; color: var(--text-primary);">Data Sync Status</div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">Real-time</div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="font-size: 13px; color: var(--text-primary);">Uptime</div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">99.9%</div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="font-size: 13px; color: var(--text-primary);">Error Rate</div>
                                    <div style="font-size: 11px; color: var(--apple-green); font-weight: 500;">0.1%</div>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="font-size: 13px; color: var(--text-primary);">Last Updated</div>
                                    <div style="font-size: 11px; color: var(--text-secondary); font-weight: 500;">2 min ago</div>
                                </div>
                            </div>

                            <button class="apple-btn btn-ghost" style="font-size: 12px; width: 100%; margin-top: var(--space-4);">System Status</button>
                        </div>
                    </div>
                </section>

                <!-- Data Flow & Cross-Platform Insights -->
                <section class="section">
                    <h2 class="section-header">Unified Intelligence</h2>

                    <div class="apple-grid grid-2">
                        <!-- Cross-Platform Insights -->
                        <div class="apple-card" style="padding: var(--space-8);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                <div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Cross-Platform Insights</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Correlated data across ecosystem</div>
                                </div>
                                <div style="font-size: 24px;">🔗</div>
                            </div>

                            <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                                <div style="padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius); border-left: 3px solid var(--apple-blue);">
                                    <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Search → Social Correlation</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">GMB posts drive 23% increase in organic CTR</div>
                                </div>

                                <div style="padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius); border-left: 3px solid var(--apple-green);">
                                    <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Review → AI Citation Link</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Recent 5-star reviews improve ChatGPT responses</div>
                                </div>

                                <div style="padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius); border-left: 3px solid var(--apple-orange);">
                                    <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Technical → Visibility Impact</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Schema fixes increased AEO score by 12%</div>
                                </div>
                            </div>
                        </div>

                        <!-- Ecosystem Command Center -->
                        <div class="apple-card" style="padding: var(--space-8);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                <div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Command Center</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Direct ecosystem control</div>
                                </div>
                                <div style="font-size: 24px;">🎛️</div>
                            </div>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3);">
                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-3); flex-direction: column; gap: var(--space-1);">
                                    <div style="font-size: 16px;">📊</div>
                                    <div>Sync All Data</div>
                                </button>

                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-3); flex-direction: column; gap: var(--space-1);">
                                    <div style="font-size: 16px;">🔄</div>
                                    <div>Refresh APIs</div>
                                </button>

                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-3); flex-direction: column; gap: var(--space-1);">
                                    <div style="font-size: 16px;">📈</div>
                                    <div>Export Unified</div>
                                </button>

                                <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-3); flex-direction: column; gap: var(--space-1);">
                                    <div style="font-size: 16px;">⚙️</div>
                                    <div>Configure</div>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Intelligence Feed Section -->
                <section class="section">
                    <div class="live-feed">
                        <div class="feed-header">
                            <div>
                                <div class="feed-title">Live Intelligence</div>
                                <div class="feed-subtitle">Cross-platform monitoring updates</div>
                            </div>
                        </div>
                        <div class="feed-content">
                            <div class="feed-item success">
                                <div class="feed-text">ChatGPT citations increased 23% following executive strategy deployment</div>
                                <div class="feed-time">2 min ago</div>
                            </div>
                            <div class="feed-item warning">
                                <div class="feed-text">Competitor Terry Reid Hyundai launched new AI optimization campaign</div>
                                <div class="feed-time">8 min ago</div>
                            </div>
                            <div class="feed-item success">
                                <div class="feed-text">Bulk schema updates completed across 12 pages - AI scores improving</div>
                                <div class="feed-time">15 min ago</div>
                            </div>
                            <div class="feed-item">
                                <div class="feed-text">Electric vehicle market opportunity score increased to 94</div>
                                <div class="feed-time">23 min ago</div>
                            </div>
                            <div class="feed-item success">
                                <div class="feed-text">ROI attribution model updated - AI citations now worth $890K annually</div>
                                <div class="feed-time">31 min ago</div>
                            </div>
                            <div class="feed-item error">
                                <div class="feed-text">Yelp API connection restored - emergency protocols successful</div>
                                <div class="feed-time">45 min ago</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Action Buttons -->
                <div style="display: flex; gap: var(--space-3); justify-content: center; margin-top: var(--space-12); flex-wrap: wrap;">
                    <button class="apple-btn btn-primary">🚀 Launch Executive Analysis</button>
                    <button class="apple-btn btn-secondary">📊 Generate C-Suite Report</button>
                    <button class="apple-btn btn-secondary">⚡ Execute Bulk Actions</button>
                    <button class="apple-btn btn-secondary">🤖 Optimize AI Citations</button>
                    <button class="apple-btn btn-secondary">🔄 Sync Ecosystem</button>
                </div>
            </div>

            <!-- AI Health Tab -->
            <div id="ai-health" class="tab-content">
                <section class="section">
                    <h1 class="section-header">AI Health Dashboard</h1>
                    <p class="section-subheader">Real-time monitoring of AI platform citations and search optimization</p>

                    <!-- Status Banner -->
                    <div class="ai-status-banner" id="aiStatusBanner">
                        <div class="status-indicator">
                            <div class="status-dot connecting"></div>
                            <span>Connecting to API services...</span>
                        </div>
                    </div>

                    <!-- AI Platform Citations Grid -->
                    <div class="cupertino-grid">
                        <div class="metric-card ai-platform-card" data-platform="chatgpt">
                            <div class="metric-header">
                                <div class="metric-icon">🤖</div>
                                <div class="metric-title">
                                    <h3>ChatGPT Citations</h3>
                                    <p>OpenAI GPT-4 & GPT-3.5</p>
                                </div>
                                <div class="metric-trend" id="chatgpt-trend">
                                    <span class="trend-value">--</span>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value" id="chatgpt-citations">--</span>
                                <span class="unit">citations</span>
                            </div>
                            <div class="metric-score">
                                <div class="score-bar">
                                    <div class="score-fill" id="chatgpt-score" style="width: 0%"></div>
                                </div>
                                <span class="score-text" id="chatgpt-score-text">-- score</span>
                            </div>
                        </div>

                        <div class="metric-card ai-platform-card" data-platform="perplexity">
                            <div class="metric-header">
                                <div class="metric-icon">🔍</div>
                                <div class="metric-title">
                                    <h3>Perplexity Citations</h3>
                                    <p>AI Search Engine</p>
                                </div>
                                <div class="metric-trend" id="perplexity-trend">
                                    <span class="trend-value">--</span>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value" id="perplexity-citations">--</span>
                                <span class="unit">citations</span>
                            </div>
                            <div class="metric-score">
                                <div class="score-bar">
                                    <div class="score-fill" id="perplexity-score" style="width: 0%"></div>
                                </div>
                                <span class="score-text" id="perplexity-score-text">-- score</span>
                            </div>
                        </div>

                        <div class="metric-card ai-platform-card" data-platform="gemini">
                            <div class="metric-header">
                                <div class="metric-icon">💎</div>
                                <div class="metric-title">
                                    <h3>Gemini Citations</h3>
                                    <p>Google AI Platform</p>
                                </div>
                                <div class="metric-trend" id="gemini-trend">
                                    <span class="trend-value">--</span>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value" id="gemini-citations">--</span>
                                <span class="unit">citations</span>
                            </div>
                            <div class="metric-score">
                                <div class="score-bar">
                                    <div class="score-fill" id="gemini-score" style="width: 0%"></div>
                                </div>
                                <span class="score-text" id="gemini-score-text">-- score</span>
                            </div>
                        </div>

                        <div class="metric-card ai-platform-card" data-platform="claude">
                            <div class="metric-header">
                                <div class="metric-icon">🧠</div>
                                <div class="metric-title">
                                    <h3>Claude Citations</h3>
                                    <p>Anthropic Assistant</p>
                                </div>
                                <div class="metric-trend" id="claude-trend">
                                    <span class="trend-value">--</span>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value" id="claude-citations">--</span>
                                <span class="unit">citations</span>
                            </div>
                            <div class="metric-score">
                                <div class="score-bar">
                                    <div class="score-fill" id="claude-score" style="width: 0%"></div>
                                </div>
                                <span class="score-text" id="claude-score-text">-- score</span>
                            </div>
                        </div>

                        <div class="metric-card ai-platform-card" data-platform="copilot">
                            <div class="metric-header">
                                <div class="metric-icon">🚁</div>
                                <div class="metric-title">
                                    <h3>Copilot Citations</h3>
                                    <p>Microsoft AI</p>
                                </div>
                                <div class="metric-trend" id="copilot-trend">
                                    <span class="trend-value">--</span>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value" id="copilot-citations">--</span>
                                <span class="unit">citations</span>
                            </div>
                            <div class="metric-score">
                                <div class="score-bar">
                                    <div class="score-fill" id="copilot-score" style="width: 0%"></div>
                                </div>
                                <span class="score-text" id="copilot-score-text">-- score</span>
                            </div>
                        </div>

                        <!-- Overall AI Health Score -->
                        <div class="metric-card overall-health-card">
                            <div class="metric-header">
                                <div class="metric-icon">🎯</div>
                                <div class="metric-title">
                                    <h3>Overall AI Health</h3>
                                    <p>Combined Platform Score</p>
                                </div>
                            </div>
                            <div class="metric-value">
                                <span class="value large" id="overall-ai-score">--</span>
                                <span class="unit">/100</span>
                            </div>
                            <div class="health-indicator">
                                <div class="health-ring" id="overall-health-ring">
                                    <div class="health-fill"></div>
                                </div>
                                <span class="health-status" id="overall-health-status">Analyzing...</span>
                            </div>
                        </div>
                    </div>

                    <!-- AI Optimization Recommendations -->
                    <div class="section-divider"></div>
                    <h2 class="subsection-header">🚀 AI Optimization Recommendations</h2>

                    <div class="recommendations-grid" id="aiRecommendations">
                        <div class="recommendation-card loading">
                            <div class="shimmer"></div>
                            <p>Loading AI optimization recommendations...</p>
                        </div>
                    </div>

                    <!-- AI Platform Performance Chart -->
                    <div class="section-divider"></div>
                    <h2 class="subsection-header">📈 AI Platform Performance Trends</h2>

                    <div class="chart-container">
                        <div class="chart-placeholder" id="aiTrendsChart">
                            <div class="chart-loading">
                                <div class="loading-spinner"></div>
                                <p>Loading performance data from integrated APIs...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Other Tabs (Simplified) -->
            <div id="website" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Website Performance</h1>
                    <p class="section-subheader">Core Web Vitals, technical SEO, and performance optimization insights</p>

                    <!-- Performance Status Overview -->
                    <div class="apple-grid grid-4" style="margin-bottom: var(--space-12);">
                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(52, 199, 89, 0.1); color: var(--apple-green);">🚀</div>
                                <div class="metric-badge">Core Web Vitals</div>
                            </div>
                            <div class="metric-label">Performance Score</div>
                            <div class="metric-value" style="color: var(--apple-green);" data-website-metric="performance-score">92</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 92%; background: var(--apple-green)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+5 pts</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">⚡</div>
                                <div class="metric-badge">Speed Index</div>
                            </div>
                            <div class="metric-label">Load Time</div>
                            <div class="metric-value" style="color: var(--apple-orange);" data-website-metric="load-time">1.8s</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">-0.3s</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(0, 122, 255, 0.05), var(--white)); border-left: 3px solid var(--apple-blue);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">📊</div>
                                <div class="metric-badge">Technical SEO</div>
                            </div>
                            <div class="metric-label">SEO Health</div>
                            <div class="metric-value" style="color: var(--apple-blue);" data-website-metric="seo-score">89%</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 89%; background: var(--apple-blue)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+7%</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 59, 48, 0.05), var(--white)); border-left: 3px solid var(--apple-red);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 59, 48, 0.1); color: var(--apple-red);">🔧</div>
                                <div class="metric-badge">Issues Found</div>
                            </div>
                            <div class="metric-label">Critical Issues</div>
                            <div class="metric-value" style="color: var(--apple-red);" data-website-metric="critical-issues">3</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%; background: var(--apple-red)"></div>
                                </div>
                            </div>
                            <div class="metric-trend negative">
                                <span class="trend-arrow">↓</span>
                                <span class="trend-value">-2</span>
                            </div>
                        </div>
                    </div>

                    <!-- Core Web Vitals Dashboard -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Core Web Vitals</h3>
                                <span class="status-badge live" data-connection-status="true">Live</span>
                            </div>
                            <div class="card-content">
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6);">
                                    <!-- LCP -->
                                    <div style="text-align: center;">
                                        <div class="circular-progress" style="margin-bottom: var(--space-3);">
                                            <div class="circular-ring" style="background: conic-gradient(var(--apple-green) 280deg, var(--gray-200) 0deg);" data-metric="lcp"></div>
                                            <div class="circular-text">
                                                <span class="circular-value" data-website-metric="lcp">1.2s</span>
                                                <span class="circular-label">LCP</span>
                                            </div>
                                        </div>
                                        <div class="vitals-label">Largest Contentful Paint</div>
                                        <div class="vitals-status good">Good</div>
                                    </div>
                                    <!-- FID -->
                                    <div style="text-align: center;">
                                        <div class="circular-progress" style="margin-bottom: var(--space-3);">
                                            <div class="circular-ring" style="background: conic-gradient(var(--apple-green) 320deg, var(--gray-200) 0deg);" data-metric="fid"></div>
                                            <div class="circular-text">
                                                <span class="circular-value" data-website-metric="fid">85ms</span>
                                                <span class="circular-label">FID</span>
                                            </div>
                                        </div>
                                        <div class="vitals-label">First Input Delay</div>
                                        <div class="vitals-status good">Good</div>
                                    </div>
                                    <!-- CLS -->
                                    <div style="text-align: center;">
                                        <div class="circular-progress" style="margin-bottom: var(--space-3);">
                                            <div class="circular-ring" style="background: conic-gradient(var(--apple-orange) 250deg, var(--gray-200) 0deg);" data-metric="cls"></div>
                                            <div class="circular-text">
                                                <span class="circular-value" data-website-metric="cls">0.12</span>
                                                <span class="circular-label">CLS</span>
                                            </div>
                                        </div>
                                        <div class="vitals-label">Cumulative Layout Shift</div>
                                        <div class="vitals-status needs-improvement">Needs Work</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Performance Metrics</h3>
                                <button class="apple-btn secondary" onclick="refreshPerformanceData()">Refresh</button>
                            </div>
                            <div class="card-content">
                                <div style="display: grid; gap: var(--space-4);">
                                    <div class="performance-metric">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <span class="metric-name">First Contentful Paint</span>
                                            <span class="metric-value" data-website-metric="fcp">0.9s</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 85%; background: var(--apple-green)"></div>
                                        </div>
                                    </div>
                                    <div class="performance-metric">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <span class="metric-name">Speed Index</span>
                                            <span class="metric-value" data-website-metric="speed-index">1.8s</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 80%; background: var(--apple-orange)"></div>
                                        </div>
                                    </div>
                                    <div class="performance-metric">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <span class="metric-name">Time to Interactive</span>
                                            <span class="metric-value" data-website-metric="tti">2.3s</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 75%; background: var(--apple-orange)"></div>
                                        </div>
                                    </div>
                                    <div class="performance-metric">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <span class="metric-name">Total Blocking Time</span>
                                            <span class="metric-value" data-website-metric="tbt">180ms</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 70%; background: var(--apple-red)"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Technical SEO Analysis -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Technical SEO Audit</h3>
                                <div class="audit-score">
                                    <span class="score-value" data-website-metric="audit-score">89</span>
                                    <span class="score-label">/100</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="audit-categories">
                                    <div class="audit-category">
                                        <div class="category-header">
                                            <span class="category-icon good">✓</span>
                                            <span class="category-name">Meta Tags</span>
                                            <span class="category-score good">95%</span>
                                        </div>
                                        <div class="category-details">
                                            <small>Title tags, meta descriptions, and headers optimized</small>
                                        </div>
                                    </div>
                                    <div class="audit-category">
                                        <div class="category-header">
                                            <span class="category-icon good">✓</span>
                                            <span class="category-name">Mobile Friendliness</span>
                                            <span class="category-score good">92%</span>
                                        </div>
                                        <div class="category-details">
                                            <small>Responsive design and mobile usability confirmed</small>
                                        </div>
                                    </div>
                                    <div class="audit-category">
                                        <div class="category-header">
                                            <span class="category-icon warning">⚠</span>
                                            <span class="category-name">Schema Markup</span>
                                            <span class="category-score warning">78%</span>
                                        </div>
                                        <div class="category-details">
                                            <small>Missing structured data for some content types</small>
                                        </div>
                                    </div>
                                    <div class="audit-category">
                                        <div class="category-header">
                                            <span class="category-icon error">✗</span>
                                            <span class="category-name">Image Optimization</span>
                                            <span class="category-score error">65%</span>
                                        </div>
                                        <div class="category-details">
                                            <small>Some images lack alt text and optimization</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Performance Issues</h3>
                                <span class="issue-count" data-website-metric="total-issues">7 Issues</span>
                            </div>
                            <div class="card-content">
                                <div class="issues-list">
                                    <div class="issue-item critical">
                                        <div class="issue-severity">🔴</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Large images not optimized</div>
                                            <div class="issue-description">3 images over 500KB affecting LCP</div>
                                            <div class="issue-impact">Impact: -12 performance points</div>
                                        </div>
                                        <button class="issue-action" onclick="fixImageOptimization()">Fix</button>
                                    </div>
                                    <div class="issue-item warning">
                                        <div class="issue-severity">🟡</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Unused JavaScript</div>
                                            <div class="issue-description">127KB of unused JS code detected</div>
                                            <div class="issue-impact">Impact: -8 performance points</div>
                                        </div>
                                        <button class="issue-action" onclick="removeUnusedJS()">Optimize</button>
                                    </div>
                                    <div class="issue-item warning">
                                        <div class="issue-severity">🟡</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Missing image alt tags</div>
                                            <div class="issue-description">15 images without alt attributes</div>
                                            <div class="issue-impact">Impact: SEO accessibility</div>
                                        </div>
                                        <button class="issue-action" onclick="addAltTags()">Fix</button>
                                    </div>
                                    <div class="issue-item info">
                                        <div class="issue-severity">🔵</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Enable text compression</div>
                                            <div class="issue-description">Gzip compression not enabled</div>
                                            <div class="issue-impact">Impact: -5 performance points</div>
                                        </div>
                                        <button class="issue-action" onclick="enableCompression()">Enable</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance History and Recommendations -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Performance Trends</h3>
                                <div class="time-selector">
                                    <button class="time-btn active">7D</button>
                                    <button class="time-btn">30D</button>
                                    <button class="time-btn">90D</button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="chart-container" style="height: 200px; background: var(--gray-50); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-4);">
                                    <div style="text-align: center; color: var(--text-secondary);">
                                        <div style="font-size: 24px; margin-bottom: 8px;">📈</div>
                                        <div>Performance trend chart</div>
                                        <small>Connected to Google Analytics</small>
                                    </div>
                                </div>
                                <div class="trend-summary">
                                    <div class="trend-item">
                                        <span class="trend-metric">Avg. Load Time</span>
                                        <span class="trend-change positive">-15% (7 days)</span>
                                    </div>
                                    <div class="trend-item">
                                        <span class="trend-metric">Performance Score</span>
                                        <span class="trend-change positive">+8 points</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Optimization Recommendations</h3>
                                <span class="recommendations-count">4 Actions</span>
                            </div>
                            <div class="card-content">
                                <div class="recommendations-list" id="performanceRecommendations">
                                    <div class="recommendation-item high-priority">
                                        <div class="recommendation-icon">🚀</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Implement image lazy loading</div>
                                            <div class="recommendation-description">Defer off-screen image loading to improve initial page load</div>
                                            <div class="recommendation-impact">Expected: +15 performance points</div>
                                        </div>
                                        <button class="apple-btn primary small">Implement</button>
                                    </div>
                                    <div class="recommendation-item medium-priority">
                                        <div class="recommendation-icon">⚡</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Minimize render-blocking resources</div>
                                            <div class="recommendation-description">Optimize CSS delivery to improve First Contentful Paint</div>
                                            <div class="recommendation-impact">Expected: +8 performance points</div>
                                        </div>
                                        <button class="apple-btn secondary small">Optimize</button>
                                    </div>
                                    <div class="recommendation-item medium-priority">
                                        <div class="recommendation-icon">📦</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Enable browser caching</div>
                                            <div class="recommendation-description">Set proper cache headers for static resources</div>
                                            <div class="recommendation-impact">Expected: +6 performance points</div>
                                        </div>
                                        <button class="apple-btn secondary small">Configure</button>
                                    </div>
                                    <div class="recommendation-item low-priority">
                                        <div class="recommendation-icon">🎨</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Optimize font loading</div>
                                            <div class="recommendation-description">Use font-display: swap for better perceived performance</div>
                                            <div class="recommendation-impact">Expected: +3 performance points</div>
                                        </div>
                                        <button class="apple-btn secondary small">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="apple-btn primary" onclick="runPerformanceAudit()">
                            <span>Run Full Audit</span>
                        </button>
                        <button class="apple-btn secondary" onclick="exportPerformanceReport()">
                            <span>Export Report</span>
                        </button>
                        <button class="apple-btn secondary" onclick="scheduleMonitoring()">
                            <span>Schedule Monitoring</span>
                        </button>
                        <button class="apple-btn secondary" onclick="viewHistoricalData()">
                            <span>View History</span>
                        </button>
                    </div>
                </section>
            </div>

            <div id="schema" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Schema Optimization</h1>
                    <p class="section-subheader">Structured data management, SEO enhancement, and AI search optimization</p>

                    <!-- Schema Health Overview -->
                    <div class="apple-grid grid-4" style="margin-bottom: var(--space-12);">
                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(52, 199, 89, 0.1); color: var(--apple-green);">✓</div>
                                <div class="metric-badge">Schema Health</div>
                            </div>
                            <div class="metric-label">Coverage Score</div>
                            <div class="metric-value" style="color: var(--apple-green);" data-schema-metric="coverage-score">87%</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 87%; background: var(--apple-green)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+12%</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(0, 122, 255, 0.05), var(--white)); border-left: 3px solid var(--apple-blue);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">📊</div>
                                <div class="metric-badge">Structured Data</div>
                            </div>
                            <div class="metric-label">Total Pages</div>
                            <div class="metric-value" style="color: var(--apple-blue);" data-schema-metric="total-pages">247</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%; background: var(--apple-blue)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+23</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">⚠️</div>
                                <div class="metric-badge">Validation</div>
                            </div>
                            <div class="metric-label">Issues Found</div>
                            <div class="metric-value" style="color: var(--apple-orange);" data-schema-metric="validation-issues">34</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 34%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-trend negative">
                                <span class="trend-arrow">↓</span>
                                <span class="trend-value">-8</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 59, 48, 0.05), var(--white)); border-left: 3px solid var(--apple-red);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 59, 48, 0.1); color: var(--apple-red);">🎯</div>
                                <div class="metric-badge">AI Optimization</div>
                            </div>
                            <div class="metric-label">AEO Score</div>
                            <div class="metric-value" style="color: var(--apple-red);" data-schema-metric="aeo-score">73</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 73%; background: var(--apple-red)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+15</span>
                            </div>
                        </div>
                    </div>

                    <!-- Schema Types and Implementation Status -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Schema Types Implementation</h3>
                                <span class="status-badge live" data-connection-status="true">Live</span>
                            </div>
                            <div class="card-content">
                                <div class="schema-types-list">
                                    <div class="schema-type-item implemented">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon business">🏢</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">AutoDealer</div>
                                                <div class="schema-type-status">47 pages • Full implementation</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health excellent">98%</div>
                                        <button class="schema-action-btn" onclick="viewSchemaDetails('autodealer')">View</button>
                                    </div>

                                    <div class="schema-type-item implemented">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon product">🚗</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">Vehicle</div>
                                                <div class="schema-type-status">156 pages • Active monitoring</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health excellent">95%</div>
                                        <button class="schema-action-btn" onclick="viewSchemaDetails('vehicle')">View</button>
                                    </div>

                                    <div class="schema-type-item implemented">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon local">📍</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">LocalBusiness</div>
                                                <div class="schema-type-status">12 pages • Location data</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health good">89%</div>
                                        <button class="schema-action-btn" onclick="viewSchemaDetails('local')">View</button>
                                    </div>

                                    <div class="schema-type-item partial">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon review">⭐</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">Review</div>
                                                <div class="schema-type-status">23 pages • Partial coverage</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health warning">76%</div>
                                        <button class="schema-action-btn" onclick="viewSchemaDetails('review')">Fix</button>
                                    </div>

                                    <div class="schema-type-item missing">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon service">🔧</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">Service</div>
                                                <div class="schema-type-status">0 pages • Not implemented</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health critical">0%</div>
                                        <button class="schema-action-btn" onclick="implementSchema('service')">Add</button>
                                    </div>

                                    <div class="schema-type-item missing">
                                        <div class="schema-type-info">
                                            <div class="schema-type-icon faq">❓</div>
                                            <div class="schema-type-details">
                                                <div class="schema-type-name">FAQPage</div>
                                                <div class="schema-type-status">0 pages • High priority</div>
                                            </div>
                                        </div>
                                        <div class="schema-type-health critical">0%</div>
                                        <button class="schema-action-btn" onclick="implementSchema('faq')">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Schema Activities</h3>
                                <button class="apple-btn secondary" onclick="refreshSchemaData()">Refresh</button>
                            </div>
                            <div class="card-content">
                                <div class="schema-activities-list" id="schemaActivitiesList">
                                    <div class="schema-activity-item success">
                                        <div class="activity-icon">✅</div>
                                        <div class="activity-details">
                                            <div class="activity-title">AutoDealer schema updated</div>
                                            <div class="activity-description">Added opening hours and contact info to 12 location pages</div>
                                            <div class="activity-time">2 hours ago</div>
                                        </div>
                                        <div class="activity-impact">+5% coverage</div>
                                    </div>

                                    <div class="schema-activity-item warning">
                                        <div class="activity-icon">⚠️</div>
                                        <div class="activity-details">
                                            <div class="activity-title">Vehicle schema validation errors</div>
                                            <div class="activity-description">8 product pages missing required 'model' property</div>
                                            <div class="activity-time">4 hours ago</div>
                                        </div>
                                        <div class="activity-impact">Fix needed</div>
                                    </div>

                                    <div class="schema-activity-item info">
                                        <div class="activity-icon">🔍</div>
                                        <div class="activity-details">
                                            <div class="activity-title">Schema audit completed</div>
                                            <div class="activity-description">Full site scan identified 34 optimization opportunities</div>
                                            <div class="activity-time">6 hours ago</div>
                                        </div>
                                        <div class="activity-impact">Report ready</div>
                                    </div>

                                    <div class="schema-activity-item success">
                                        <div class="activity-icon">🚀</div>
                                        <div class="activity-details">
                                            <div class="activity-title">AEO score improvement</div>
                                            <div class="activity-description">Recent schema fixes increased AI visibility by 15 points</div>
                                            <div class="activity-time">1 day ago</div>
                                        </div>
                                        <div class="activity-impact">+15 AEO</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Schema Validation and AI Optimization -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Validation Issues</h3>
                                <div class="issue-count">
                                    <span class="issue-critical">12 Critical</span>
                                    <span class="issue-warning">22 Warnings</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="validation-issues-list">
                                    <div class="validation-issue critical">
                                        <div class="issue-severity">🔴</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Missing required properties</div>
                                            <div class="issue-description">8 AutoDealer pages missing 'telephone' property</div>
                                            <div class="issue-pages">Pages: /locations/downtown, /locations/westside, +6 more</div>
                                        </div>
                                        <button class="issue-fix-btn" onclick="fixSchemaIssue('missing-telephone')">Fix All</button>
                                    </div>

                                    <div class="validation-issue critical">
                                        <div class="issue-severity">🔴</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Invalid URL format</div>
                                            <div class="issue-description">4 Vehicle pages with malformed 'url' property</div>
                                            <div class="issue-pages">Pages: /inventory/2024-honda-civic, /inventory/2023-toyota-camry, +2 more</div>
                                        </div>
                                        <button class="issue-fix-btn" onclick="fixSchemaIssue('invalid-urls')">Fix All</button>
                                    </div>

                                    <div class="validation-issue warning">
                                        <div class="issue-severity">🟡</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Recommended properties missing</div>
                                            <div class="issue-description">15 Vehicle pages could benefit from 'fuelType' property</div>
                                            <div class="issue-pages">Pages: Multiple inventory pages</div>
                                        </div>
                                        <button class="issue-fix-btn" onclick="fixSchemaIssue('missing-fuel-type')">Enhance</button>
                                    </div>

                                    <div class="validation-issue warning">
                                        <div class="issue-severity">🟡</div>
                                        <div class="issue-details">
                                            <div class="issue-title">Incomplete address data</div>
                                            <div class="issue-description">7 LocalBusiness entries missing 'postalCode'</div>
                                            <div class="issue-pages">Pages: Various location pages</div>
                                        </div>
                                        <button class="issue-fix-btn" onclick="fixSchemaIssue('incomplete-address')">Complete</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">AI Engine Optimization</h3>
                                <div class="aeo-score">
                                    <span class="score-label">AEO Score</span>
                                    <span class="score-value" data-schema-metric="detailed-aeo">73/100</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="aeo-categories">
                                    <div class="aeo-category">
                                        <div class="category-header">
                                            <span class="category-name">Content Discoverability</span>
                                            <span class="category-score good">82</span>
                                        </div>
                                        <div class="category-bar">
                                            <div class="category-fill good" style="width: 82%"></div>
                                        </div>
                                        <div class="category-details">Strong schema markup helps AI engines understand content structure</div>
                                    </div>

                                    <div class="aeo-category">
                                        <div class="category-header">
                                            <span class="category-name">Entity Recognition</span>
                                            <span class="category-score excellent">91</span>
                                        </div>
                                        <div class="category-bar">
                                            <div class="category-fill excellent" style="width: 91%"></div>
                                        </div>
                                        <div class="category-details">Clear entity definitions with AutoDealer and Vehicle schemas</div>
                                    </div>

                                    <div class="aeo-category">
                                        <div class="category-header">
                                            <span class="category-name">Answer Engine Optimization</span>
                                            <span class="category-score warning">65</span>
                                        </div>
                                        <div class="category-bar">
                                            <div class="category-fill warning" style="width: 65%"></div>
                                        </div>
                                        <div class="category-details">Missing FAQ and HowTo schemas limit AI answer generation</div>
                                    </div>

                                    <div class="aeo-category">
                                        <div class="category-header">
                                            <span class="category-name">Citation Potential</span>
                                            <span class="category-score good">78</span>
                                        </div>
                                        <div class="category-bar">
                                            <div class="category-fill good" style="width: 78%"></div>
                                        </div>
                                        <div class="category-details">Well-structured data increases chances of AI citations</div>
                                    </div>
                                </div>

                                <div class="aeo-recommendations" style="margin-top: var(--space-6);">
                                    <h4 style="margin-bottom: var(--space-4);">Top AEO Opportunities</h4>
                                    <div class="aeo-recommendation-item high-priority">
                                        <div class="recommendation-icon">🚀</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Add FAQ schema markup</div>
                                            <div class="recommendation-impact">Expected: +12 AEO points</div>
                                        </div>
                                        <button class="aeo-action-btn" onclick="implementFAQSchema()">Implement</button>
                                    </div>

                                    <div class="aeo-recommendation-item medium-priority">
                                        <div class="recommendation-icon">⚡</div>
                                        <div class="recommendation-details">
                                            <div class="recommendation-title">Enhance Service schema</div>
                                            <div class="recommendation-impact">Expected: +8 AEO points</div>
                                        </div>
                                        <button class="aeo-action-btn" onclick="implementServiceSchema()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Schema Management Tools -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Schema Generator</h3>
                                <div class="generator-status">Ready</div>
                            </div>
                            <div class="card-content">
                                <div class="schema-generator">
                                    <div class="generator-form">
                                        <div class="form-group">
                                            <label for="schema-type-select">Schema Type</label>
                                            <select id="schema-type-select" class="generator-select">
                                                <option value="">Select schema type</option>
                                                <option value="vehicle">Vehicle/Product</option>
                                                <option value="service">Service</option>
                                                <option value="faq">FAQ Page</option>
                                                <option value="local">Local Business</option>
                                                <option value="review">Customer Review</option>
                                                <option value="event">Event</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="page-url-input">Page URL</label>
                                            <input type="text" id="page-url-input" class="generator-input" placeholder="https://premiumauto.com/page-url">
                                        </div>

                                        <div class="form-group">
                                            <label>Generation Options</label>
                                            <div class="generator-options">
                                                <label class="option-checkbox">
                                                    <input type="checkbox" checked>
                                                    <span>Include all recommended properties</span>
                                                </label>
                                                <label class="option-checkbox">
                                                    <input type="checkbox" checked>
                                                    <span>Optimize for AI engines</span>
                                                </label>
                                                <label class="option-checkbox">
                                                    <input type="checkbox">
                                                    <span>Include testing markup</span>
                                                </label>
                                            </div>
                                        </div>

                                        <button class="apple-btn primary" onclick="generateSchema()" style="width: 100%;">
                                            Generate Schema Code
                                        </button>
                                    </div>

                                    <div class="generator-output" id="schemaGeneratorOutput" style="display: none;">
                                        <div class="output-header">
                                            <span>Generated Schema</span>
                                            <button class="copy-btn" onclick="copySchemaCode()">Copy</button>
                                        </div>
                                        <div class="code-block" id="generatedSchemaCode">
                                            <!-- Generated code will appear here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Bulk Operations</h3>
                                <div class="bulk-progress" id="bulkProgress" style="display: none;">
                                    <div class="progress-text">Processing...</div>
                                    <div class="progress-bar small">
                                        <div class="progress-fill" id="bulkProgressBar"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="bulk-operations">
                                    <div class="bulk-operation-item">
                                        <div class="bulk-operation-info">
                                            <h4>Vehicle Inventory Update</h4>
                                            <p>Update schema markup across all vehicle listing pages</p>
                                        </div>
                                        <div class="bulk-operation-stats">
                                            <span class="stat">156 pages</span>
                                            <span class="stat">~15 min</span>
                                        </div>
                                        <button class="bulk-action-btn" onclick="runBulkOperation('vehicle-update')">Update All</button>
                                    </div>

                                    <div class="bulk-operation-item">
                                        <div class="bulk-operation-info">
                                            <h4>Location Schema Sync</h4>
                                            <p>Synchronize LocalBusiness data across all location pages</p>
                                        </div>
                                        <div class="bulk-operation-stats">
                                            <span class="stat">12 locations</span>
                                            <span class="stat">~5 min</span>
                                        </div>
                                        <button class="bulk-action-btn" onclick="runBulkOperation('location-sync')">Sync All</button>
                                    </div>

                                    <div class="bulk-operation-item">
                                        <div class="bulk-operation-info">
                                            <h4>Schema Validation Scan</h4>
                                            <p>Run comprehensive validation check across entire site</p>
                                        </div>
                                        <div class="bulk-operation-stats">
                                            <span class="stat">247 pages</span>
                                            <span class="stat">~10 min</span>
                                        </div>
                                        <button class="bulk-action-btn" onclick="runBulkOperation('validation-scan')">Scan All</button>
                                    </div>

                                    <div class="bulk-operation-item">
                                        <div class="bulk-operation-info">
                                            <h4>FAQ Schema Generation</h4>
                                            <p>Auto-generate FAQ schema from existing content</p>
                                        </div>
                                        <div class="bulk-operation-stats">
                                            <span class="stat">23 pages</span>
                                            <span class="stat">~8 min</span>
                                        </div>
                                        <button class="bulk-action-btn" onclick="runBulkOperation('faq-generation')">Generate</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Action Buttons -->
                    <div class="action-buttons">
                        <button class="apple-btn primary" onclick="runFullSchemaAudit()">
                            <span>Run Full Audit</span>
                        </button>
                        <button class="apple-btn secondary" onclick="exportSchemaReport()">
                            <span>Export Report</span>
                        </button>
                        <button class="apple-btn secondary" onclick="scheduleSchemaMonitoring()">
                            <span>Schedule Monitoring</span>
                        </button>
                        <button class="apple-btn secondary" onclick="viewSchemaDocumentation()">
                            <span>View Documentation</span>
                        </button>
                    </div>
                </section>
            </div>

            <div id="reviews" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Review Management</h1>
                    <p class="section-subheader">Multi-platform review monitoring, response automation, and reputation insights</p>

                    <!-- Review Status Overview -->
                    <div class="apple-grid grid-4" style="margin-bottom: var(--space-12);">
                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(52, 199, 89, 0.1); color: var(--apple-green);">⭐</div>
                                <div class="metric-badge">Overall Rating</div>
                            </div>
                            <div class="metric-label">Average Rating</div>
                            <div class="metric-value" style="color: var(--apple-green);" data-review-metric="avg-rating">4.7</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 94%; background: var(--apple-green)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+0.2</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(0, 122, 255, 0.05), var(--white)); border-left: 3px solid var(--apple-blue);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">📊</div>
                                <div class="metric-badge">This Month</div>
                            </div>
                            <div class="metric-label">Total Reviews</div>
                            <div class="metric-value" style="color: var(--apple-blue);" data-review-metric="total-reviews">287</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background: var(--apple-blue)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">+32</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">⏱️</div>
                                <div class="metric-badge">Response Rate</div>
                            </div>
                            <div class="metric-label">Response Time</div>
                            <div class="metric-value" style="color: var(--apple-orange);" data-review-metric="response-time">2.3h</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-trend positive">
                                <span class="trend-arrow">↗</span>
                                <span class="trend-value">-0.7h</span>
                            </div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 59, 48, 0.05), var(--white)); border-left: 3px solid var(--apple-red);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 59, 48, 0.1); color: var(--apple-red);">⚠️</div>
                                <div class="metric-badge">Needs Attention</div>
                            </div>
                            <div class="metric-label">Pending Responses</div>
                            <div class="metric-value" style="color: var(--apple-red);" data-review-metric="pending-responses">8</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 32%; background: var(--apple-red)"></div>
                                </div>
                            </div>
                            <div class="metric-trend negative">
                                <span class="trend-arrow">↑</span>
                                <span class="trend-value">+3</span>
                            </div>
                        </div>
                    </div>

                    <!-- Platform Breakdown and Recent Reviews -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Platform Overview</h3>
                                <span class="status-badge live" data-connection-status="true">Live</span>
                            </div>
                            <div class="card-content">
                                <div class="platform-reviews">
                                    <div class="platform-review-item" data-platform="google">
                                        <div class="platform-info">
                                            <div class="platform-icon google">G</div>
                                            <div class="platform-details">
                                                <div class="platform-name">Google My Business</div>
                                                <div class="platform-stats">156 reviews • 4.8 avg</div>
                                            </div>
                                        </div>
                                        <div class="platform-actions">
                                            <div class="rating-stars">
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                            </div>
                                            <button class="platform-btn" onclick="viewPlatformReviews('google')">View</button>
                                        </div>
                                    </div>

                                    <div class="platform-review-item" data-platform="facebook">
                                        <div class="platform-info">
                                            <div class="platform-icon facebook">f</div>
                                            <div class="platform-details">
                                                <div class="platform-name">Facebook</div>
                                                <div class="platform-stats">89 reviews • 4.6 avg</div>
                                            </div>
                                        </div>
                                        <div class="platform-actions">
                                            <div class="rating-stars">
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star half">★</span>
                                            </div>
                                            <button class="platform-btn" onclick="viewPlatformReviews('facebook')">View</button>
                                        </div>
                                    </div>

                                    <div class="platform-review-item" data-platform="yelp">
                                        <div class="platform-info">
                                            <div class="platform-icon yelp">Y</div>
                                            <div class="platform-details">
                                                <div class="platform-name">Yelp</div>
                                                <div class="platform-stats">42 reviews • 4.5 avg</div>
                                            </div>
                                        </div>
                                        <div class="platform-actions">
                                            <div class="rating-stars">
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star empty">★</span>
                                            </div>
                                            <button class="platform-btn" onclick="viewPlatformReviews('yelp')">View</button>
                                        </div>
                                    </div>

                                    <div class="platform-review-item" data-platform="cargurus">
                                        <div class="platform-info">
                                            <div class="platform-icon cargurus">C</div>
                                            <div class="platform-details">
                                                <div class="platform-name">CarGurus</div>
                                                <div class="platform-stats">23 reviews • 4.9 avg</div>
                                            </div>
                                        </div>
                                        <div class="platform-actions">
                                            <div class="rating-stars">
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                                <span class="star filled">★</span>
                                            </div>
                                            <button class="platform-btn" onclick="viewPlatformReviews('cargurus')">View</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Reviews</h3>
                                <button class="apple-btn secondary" onclick="refreshReviews()">Refresh</button>
                            </div>
                            <div class="card-content">
                                <div class="recent-reviews-list" id="recentReviewsList">
                                    <div class="review-item urgent">
                                        <div class="review-header">
                                            <div class="reviewer-info">
                                                <div class="reviewer-avatar">S</div>
                                                <div class="reviewer-details">
                                                    <div class="reviewer-name">Sarah M.</div>
                                                    <div class="review-platform google">Google</div>
                                                </div>
                                            </div>
                                            <div class="review-rating">
                                                <div class="rating-stars">
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star empty">★</span>
                                                    <span class="star empty">★</span>
                                                    <span class="star empty">★</span>
                                                </div>
                                                <div class="review-time">2h ago</div>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <p>"Service was slow and the salesperson seemed disinterested..."</p>
                                            <div class="review-actions">
                                                <button class="respond-btn urgent" onclick="respondToReview('urgent')">Respond Now</button>
                                                <button class="view-btn" onclick="viewFullReview()">View Full</button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="review-item positive">
                                        <div class="review-header">
                                            <div class="reviewer-info">
                                                <div class="reviewer-avatar">M</div>
                                                <div class="reviewer-details">
                                                    <div class="reviewer-name">Mike R.</div>
                                                    <div class="review-platform facebook">Facebook</div>
                                                </div>
                                            </div>
                                            <div class="review-rating">
                                                <div class="rating-stars">
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                </div>
                                                <div class="review-time">4h ago</div>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <p>"Excellent service! John helped me find the perfect car and the financing was smooth..."</p>
                                            <div class="review-actions">
                                                <button class="respond-btn positive" onclick="respondToReview('positive')">Thank</button>
                                                <button class="view-btn" onclick="viewFullReview()">View Full</button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="review-item neutral">
                                        <div class="review-header">
                                            <div class="reviewer-info">
                                                <div class="reviewer-avatar">J</div>
                                                <div class="reviewer-details">
                                                    <div class="reviewer-name">Jennifer L.</div>
                                                    <div class="review-platform yelp">Yelp</div>
                                                </div>
                                            </div>
                                            <div class="review-rating">
                                                <div class="rating-stars">
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star filled">★</span>
                                                    <span class="star empty">★</span>
                                                </div>
                                                <div class="review-time">1d ago</div>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <p>"Good selection of cars, fair prices. Could improve on follow-up communication..."</p>
                                            <div class="review-actions">
                                                <button class="respond-btn neutral" onclick="respondToReview('neutral')">Respond</button>
                                                <button class="view-btn" onclick="viewFullReview()">View Full</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Review Analytics and Response Templates -->
                    <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Review Analytics</h3>
                                <div class="time-period-selector">
                                    <button class="period-btn active">30D</button>
                                    <button class="period-btn">90D</button>
                                    <button class="period-btn">1Y</button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="analytics-grid">
                                    <div class="analytics-stat">
                                        <div class="stat-label">5-Star Reviews</div>
                                        <div class="stat-value good" data-review-metric="five-star">68%</div>
                                        <div class="stat-bar">
                                            <div class="stat-fill good" style="width: 68%"></div>
                                        </div>
                                    </div>
                                    <div class="analytics-stat">
                                        <div class="stat-label">4-Star Reviews</div>
                                        <div class="stat-value good" data-review-metric="four-star">22%</div>
                                        <div class="stat-bar">
                                            <div class="stat-fill good" style="width: 22%"></div>
                                        </div>
                                    </div>
                                    <div class="analytics-stat">
                                        <div class="stat-label">3-Star Reviews</div>
                                        <div class="stat-value neutral" data-review-metric="three-star">7%</div>
                                        <div class="stat-bar">
                                            <div class="stat-fill neutral" style="width: 7%"></div>
                                        </div>
                                    </div>
                                    <div class="analytics-stat">
                                        <div class="stat-label">1-2 Star Reviews</div>
                                        <div class="stat-value warning" data-review-metric="low-star">3%</div>
                                        <div class="stat-bar">
                                            <div class="stat-fill warning" style="width: 3%"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="sentiment-analysis" style="margin-top: var(--space-6);">
                                    <h4 style="margin-bottom: var(--space-4);">Common Keywords</h4>
                                    <div class="keyword-cloud">
                                        <span class="keyword positive">excellent service</span>
                                        <span class="keyword positive">friendly staff</span>
                                        <span class="keyword positive">great experience</span>
                                        <span class="keyword neutral">fair price</span>
                                        <span class="keyword neutral">good selection</span>
                                        <span class="keyword warning">slow process</span>
                                        <span class="keyword positive">highly recommend</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Response Templates</h3>
                                <button class="apple-btn secondary" onclick="manageTemplates()">Manage</button>
                            </div>
                            <div class="card-content">
                                <div class="template-list">
                                    <div class="template-item">
                                        <div class="template-header">
                                            <div class="template-name">5-Star Thank You</div>
                                            <div class="template-usage">Used 45 times</div>
                                        </div>
                                        <div class="template-preview">
                                            "Thank you for the wonderful review! We're thrilled that you had such a positive experience..."
                                        </div>
                                        <div class="template-actions">
                                            <button class="template-btn" onclick="useTemplate('5star')">Use</button>
                                            <button class="template-btn secondary" onclick="editTemplate('5star')">Edit</button>
                                        </div>
                                    </div>

                                    <div class="template-item">
                                        <div class="template-header">
                                            <div class="template-name">Concern Resolution</div>
                                            <div class="template-usage">Used 12 times</div>
                                        </div>
                                        <div class="template-preview">
                                            "Thank you for bringing this to our attention. We take all feedback seriously and would like to..."
                                        </div>
                                        <div class="template-actions">
                                            <button class="template-btn" onclick="useTemplate('concern')">Use</button>
                                            <button class="template-btn secondary" onclick="editTemplate('concern')">Edit</button>
                                        </div>
                                    </div>

                                    <div class="template-item">
                                        <div class="template-header">
                                            <div class="template-name">General Appreciation</div>
                                            <div class="template-usage">Used 28 times</div>
                                        </div>
                                        <div class="template-preview">
                                            "We appreciate you taking the time to share your experience with us..."
                                        </div>
                                        <div class="template-actions">
                                            <button class="template-btn" onclick="useTemplate('general')">Use</button>
                                            <button class="template-btn secondary" onclick="editTemplate('general')">Edit</button>
                                        </div>
                                    </div>

                                    <div class="template-item">
                                        <div class="template-header">
                                            <div class="template-name">Service Recovery</div>
                                            <div class="template-usage">Used 8 times</div>
                                        </div>
                                        <div class="template-preview">
                                            "We sincerely apologize for not meeting your expectations. Please reach out to our manager..."
                                        </div>
                                        <div class="template-actions">
                                            <button class="template-btn" onclick="useTemplate('recovery')">Use</button>
                                            <button class="template-btn secondary" onclick="editTemplate('recovery')">Edit</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Dashboard -->
                    <div class="apple-card" style="margin-bottom: var(--space-12);">
                        <div class="card-header">
                            <h3 class="card-title">Action Dashboard</h3>
                            <div class="action-stats">
                                <span class="action-stat urgent">8 Urgent</span>
                                <span class="action-stat pending">15 Pending</span>
                                <span class="action-stat completed">23 Completed Today</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="action-items-grid">
                                <div class="action-item-card urgent" onclick="handleUrgentReviews()">
                                    <div class="action-icon">🚨</div>
                                    <div class="action-details">
                                        <div class="action-title">Urgent Responses Needed</div>
                                        <div class="action-description">8 negative reviews need immediate attention</div>
                                        <div class="action-timeline">Response target: < 2 hours</div>
                                    </div>
                                    <div class="action-cta">
                                        <button class="action-button urgent">Respond Now</button>
                                    </div>
                                </div>

                                <div class="action-item-card pending" onclick="handlePendingReviews()">
                                    <div class="action-icon">⏰</div>
                                    <div class="action-details">
                                        <div class="action-title">Pending Responses</div>
                                        <div class="action-description">15 reviews awaiting responses</div>
                                        <div class="action-timeline">Response target: < 24 hours</div>
                                    </div>
                                    <div class="action-cta">
                                        <button class="action-button pending">Review Queue</button>
                                    </div>
                                </div>

                                <div class="action-item-card positive" onclick="generateReviewReport()">
                                    <div class="action-icon">📊</div>
                                    <div class="action-details">
                                        <div class="action-title">Weekly Report Ready</div>
                                        <div class="action-description">Generate comprehensive review analytics</div>
                                        <div class="action-timeline">Last generated: 1 week ago</div>
                                    </div>
                                    <div class="action-cta">
                                        <button class="action-button positive">Generate</button>
                                    </div>
                                </div>

                                <div class="action-item-card info" onclick="setupReviewAlerts()">
                                    <div class="action-icon">🔔</div>
                                    <div class="action-details">
                                        <div class="action-title">Alert Configuration</div>
                                        <div class="action-description">Set up automated review monitoring</div>
                                        <div class="action-timeline">Real-time notifications</div>
                                    </div>
                                    <div class="action-cta">
                                        <button class="action-button info">Configure</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Action Buttons -->
                    <div class="action-buttons">
                        <button class="apple-btn primary" onclick="openReviewComposer()">
                            <span>Compose Response</span>
                        </button>
                        <button class="apple-btn secondary" onclick="exportReviewData()">
                            <span>Export Data</span>
                        </button>
                        <button class="apple-btn secondary" onclick="scheduleReviewAudit()">
                            <span>Schedule Audit</span>
                        </button>
                        <button class="apple-btn secondary" onclick="viewReviewTrends()">
                            <span>View Trends</span>
                        </button>
                    </div>
                </section>
            </div>

            <div id="mystery-shop" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Mystery Shopping Intelligence</h1>
                    <p class="section-subheader">Comprehensive customer experience analysis and competitive intelligence</p>

                    <!-- Mystery Shop Status Overview -->
                    <div class="apple-grid grid-4" style="margin-bottom: var(--space-12);">
                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(52, 199, 89, 0.1); color: var(--apple-green);">⭐</div>
                                <div class="metric-badge">Current</div>
                            </div>
                            <div class="metric-label">Overall Score</div>
                            <div class="metric-value" style="color: var(--apple-green);">87.3</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 87.3%; background: var(--apple-green)"></div>
                                </div>
                            </div>
                            <div class="metric-change positive">+5.2% vs last visit</div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(0, 122, 255, 0.05), var(--white)); border-left: 3px solid var(--apple-blue);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(0, 122, 255, 0.1); color: var(--apple-blue);">🏆</div>
                                <div class="metric-badge">Benchmark</div>
                            </div>
                            <div class="metric-label">Industry Rank</div>
                            <div class="metric-value" style="color: var(--apple-blue);">3rd</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background: var(--apple-blue)"></div>
                                </div>
                            </div>
                            <div class="metric-change">of 47 dealerships</div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(255, 149, 0, 0.1); color: var(--apple-orange);">📅</div>
                                <div class="metric-badge">Recent</div>
                            </div>
                            <div class="metric-label">Last Visit</div>
                            <div class="metric-value" style="font-size: 18px;">Dec 15</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%; background: var(--apple-orange)"></div>
                                </div>
                            </div>
                            <div class="metric-change">11 days ago</div>
                        </div>

                        <div class="apple-card metric-card" style="background: linear-gradient(135deg, rgba(175, 82, 222, 0.05), var(--white)); border-left: 3px solid var(--apple-purple);">
                            <div class="metric-header">
                                <div class="metric-icon" style="background: rgba(175, 82, 222, 0.1); color: var(--apple-purple);">📊</div>
                                <div class="metric-badge">Trend</div>
                            </div>
                            <div class="metric-label">Total Visits</div>
                            <div class="metric-value" style="color: var(--apple-purple);">24</div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%; background: var(--apple-purple)"></div>
                                </div>
                            </div>
                            <div class="metric-change">this year</div>
                        </div>
                    </div>

                    <!-- Latest Mystery Shop Report -->
                    <div style="margin-bottom: var(--space-12);">
                        <h2 class="subsection-header" style="font-size: 20px; margin-bottom: var(--space-6);">🔍 Latest Mystery Shop Report</h2>

                        <div class="apple-card" style="padding: var(--space-8); background: linear-gradient(135deg, var(--gray-50), var(--white));">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-6);">
                                <div>
                                    <h3 style="font-size: 18px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Service Department Visit - December 15, 2024</h3>
                                    <div style="display: flex; align-items: center; gap: var(--space-4); margin-bottom: var(--space-3);">
                                        <span style="display: flex; align-items: center; gap: var(--space-1); font-size: 12px; color: var(--text-secondary);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%;"></div>
                                            Shopper: Sarah M.
                                        </span>
                                        <span style="display: flex; align-items: center; gap: var(--space-1); font-size: 12px; color: var(--text-secondary);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-blue); border-radius: 50%;"></div>
                                            Service Advisor: Mike Rodriguez
                                        </span>
                                        <span style="display: flex; align-items: center; gap: var(--space-1); font-size: 12px; color: var(--text-secondary);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-orange); border-radius: 50%;"></div>
                                            Duration: 45 minutes
                                        </span>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 32px; font-weight: 800; color: var(--apple-green); margin-bottom: var(--space-1);">89</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Overall Score</div>
                                </div>
                            </div>

                            <!-- Score Breakdown -->
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-4); margin-bottom: var(--space-6);">
                                <div style="padding: var(--space-4); background: var(--white); border-radius: var(--radius); border: 1px solid var(--gray-200);">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">First Impression</span>
                                        <span style="font-size: 14px; font-weight: 600; color: var(--apple-green);">92</span>
                                    </div>
                                    <div style="height: 4px; background: var(--gray-200); border-radius: 2px;">
                                        <div style="height: 100%; width: 92%; background: var(--apple-green); border-radius: 2px;"></div>
                                    </div>
                                </div>

                                <div style="padding: var(--space-4); background: var(--white); border-radius: var(--radius); border: 1px solid var(--gray-200);">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">Service Quality</span>
                                        <span style="font-size: 14px; font-weight: 600; color: var(--apple-green);">88</span>
                                    </div>
                                    <div style="height: 4px; background: var(--gray-200); border-radius: 2px;">
                                        <div style="height: 100%; width: 88%; background: var(--apple-green); border-radius: 2px;"></div>
                                    </div>
                                </div>

                                <div style="padding: var(--space-4); background: var(--white); border-radius: var(--radius); border: 1px solid var(--gray-200);">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">Communication</span>
                                        <span style="font-size: 14px; font-weight: 600; color: var(--apple-orange);">84</span>
                                    </div>
                                    <div style="height: 4px; background: var(--gray-200); border-radius: 2px;">
                                        <div style="height: 100%; width: 84%; background: var(--apple-orange); border-radius: 2px;"></div>
                                    </div>
                                </div>

                                <div style="padding: var(--space-4); background: var(--white); border-radius: var(--radius); border: 1px solid var(--gray-200);">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">Follow-up</span>
                                        <span style="font-size: 14px; font-weight: 600; color: var(--apple-orange);">79</span>
                                    </div>
                                    <div style="height: 4px; background: var(--gray-200); border-radius: 2px;">
                                        <div style="height: 100%; width: 79%; background: var(--apple-orange); border-radius: 2px;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Key Highlights -->
                            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6);">
                                <div>
                                    <h4 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3);">🎯 Key Highlights</h4>
                                    <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                                        <div style="display: flex; align-items: start; gap: var(--space-2);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%; margin-top: 6px;"></div>
                                            <span style="font-size: 13px; color: var(--text-secondary);">Greeted promptly and professionally upon arrival</span>
                                        </div>
                                        <div style="display: flex; align-items: start; gap: var(--space-2);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%; margin-top: 6px;"></div>
                                            <span style="font-size: 13px; color: var(--text-secondary);">Service advisor explained all procedures clearly</span>
                                        </div>
                                        <div style="display: flex; align-items: start; gap: var(--space-2);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-orange); border-radius: 50%; margin-top: 6px;"></div>
                                            <span style="font-size: 13px; color: var(--text-secondary);">Wait time was 10 minutes longer than estimated</span>
                                        </div>
                                        <div style="display: flex; align-items: start; gap: var(--space-2);">
                                            <div style="width: 6px; height: 6px; background: var(--apple-green); border-radius: 50%; margin-top: 6px;"></div>
                                            <span style="font-size: 13px; color: var(--text-secondary);">Facility was clean and well-maintained</span>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3);">📋 Action Items</h4>
                                    <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                        <div style="padding: var(--space-2); background: rgba(255, 149, 0, 0.1); border-radius: var(--radius-sm); border-left: 2px solid var(--apple-orange);">
                                            <span style="font-size: 11px; color: var(--apple-orange); font-weight: 600; text-transform: uppercase;">Medium Priority</span>
                                            <p style="font-size: 12px; color: var(--text-primary); margin: var(--space-1) 0 0 0;">Improve appointment scheduling accuracy</p>
                                        </div>
                                        <div style="padding: var(--space-2); background: rgba(255, 59, 48, 0.1); border-radius: var(--radius-sm); border-left: 2px solid var(--apple-red);">
                                            <span style="font-size: 11px; color: var(--apple-red); font-weight: 600; text-transform: uppercase;">High Priority</span>
                                            <p style="font-size: 12px; color: var(--text-primary); margin: var(--space-1) 0 0 0;">Enhance follow-up communication process</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Historical Performance -->
                    <div style="margin-bottom: var(--space-12);">
                        <h2 class="subsection-header" style="font-size: 20px; margin-bottom: var(--space-6);">📈 Performance Trends</h2>

                        <div class="apple-grid grid-2">
                            <div class="apple-card" style="padding: var(--space-8);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                    <div>
                                        <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Monthly Score Trends</div>
                                        <div style="font-size: 13px; color: var(--text-secondary);">Last 6 months performance</div>
                                    </div>
                                    <div style="font-size: 24px;">📊</div>
                                </div>

                                <div style="height: 180px; background: var(--gray-50); border-radius: var(--radius); border: 1px dashed var(--gray-300); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-4);">
                                    <div style="text-align: center; color: var(--text-secondary);">
                                        <div style="font-size: 18px; margin-bottom: var(--space-2);">📈</div>
                                        <div style="font-size: 14px; font-weight: 500;">Mystery Shop Trend Chart</div>
                                        <div style="font-size: 12px; margin-top: var(--space-1);">July: 82 → December: 89</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; font-size: 12px; color: var(--text-secondary);">
                                    <span>Jul: 82</span>
                                    <span>Aug: 85</span>
                                    <span>Sep: 81</span>
                                    <span>Oct: 87</span>
                                    <span>Nov: 84</span>
                                    <span>Dec: 89</span>
                                </div>
                            </div>

                            <div class="apple-card" style="padding: var(--space-8);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                    <div>
                                        <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Department Breakdown</div>
                                        <div style="font-size: 13px; color: var(--text-secondary);">Current performance by department</div>
                                    </div>
                                    <div style="font-size: 24px;">🏢</div>
                                </div>

                                <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(52, 199, 89, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-green);">
                                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                                            <div style="font-size: 20px;">🔧</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Service</div>
                                                <div style="font-size: 11px; color: var(--text-secondary);">Last visit: Dec 15</div>
                                            </div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 18px; font-weight: 700; color: var(--apple-green);">89</div>
                                            <div style="font-size: 10px; color: var(--text-secondary);">+5 pts</div>
                                        </div>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(0, 122, 255, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-blue);">
                                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                                            <div style="font-size: 20px;">🚗</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Sales</div>
                                                <div style="font-size: 11px; color: var(--text-secondary);">Last visit: Nov 28</div>
                                            </div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 18px; font-weight: 700; color: var(--apple-blue);">92</div>
                                            <div style="font-size: 10px; color: var(--text-secondary);">+2 pts</div>
                                        </div>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(255, 149, 0, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-orange);">
                                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                                            <div style="font-size: 20px;">💰</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Finance</div>
                                                <div style="font-size: 11px; color: var(--text-secondary);">Last visit: Oct 15</div>
                                            </div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 18px; font-weight: 700; color: var(--apple-orange);">78</div>
                                            <div style="font-size: 10px; color: var(--text-secondary);">-3 pts</div>
                                        </div>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-3); background: linear-gradient(135deg, rgba(175, 82, 222, 0.1), transparent); border-radius: var(--radius); border-left: 3px solid var(--apple-purple);">
                                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                                            <div style="font-size: 20px;">📞</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Phone/Digital</div>
                                                <div style="font-size: 11px; color: var(--text-secondary);">Last visit: Dec 20</div>
                                            </div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 18px; font-weight: 700; color: var(--apple-purple);">85</div>
                                            <div style="font-size: 10px; color: var(--text-secondary);">+7 pts</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Competitor Benchmarking -->
                    <div style="margin-bottom: var(--space-12);">
                        <h2 class="subsection-header" style="font-size: 20px; margin-bottom: var(--space-6);">🏆 Competitive Benchmarking</h2>

                        <div class="apple-card" style="padding: var(--space-8);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-6);">
                                <div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-1);">Regional Performance Ranking</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Cape Coral / Fort Myers market comparison</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: var(--space-2);">
                                    <div style="font-size: 24px;">🥉</div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 24px; font-weight: 800; color: var(--apple-blue);">3rd</div>
                                        <div style="font-size: 12px; color: var(--text-secondary);">of 47</div>
                                    </div>
                                </div>
                            </div>

                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-4);">
                                <div>
                                    <h4 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3);">🏅 Top Performers</h4>

                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-3); background: rgba(255, 215, 0, 0.1); border-radius: var(--radius); margin-bottom: var(--space-2); border-left: 3px solid #FFD700;">
                                        <div>
                                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">#1 Germain Toyota</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">Naples, FL</div>
                                        </div>
                                        <div style="font-size: 16px; font-weight: 700; color: #B8860B;">94.2</div>
                                    </div>

                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-3); background: rgba(192, 192, 192, 0.1); border-radius: var(--radius); margin-bottom: var(--space-2); border-left: 3px solid #C0C0C0;">
                                        <div>
                                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">#2 Crown Honda</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">Fort Myers, FL</div>
                                        </div>
                                        <div style="font-size: 16px; font-weight: 700; color: #708090;">91.8</div>
                                    </div>

                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-3); background: rgba(0, 122, 255, 0.1); border-radius: var(--radius); margin-bottom: var(--space-2); border-left: 3px solid var(--apple-blue);">
                                        <div>
                                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">#3 Your Dealership</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">Cape Coral, FL</div>
                                        </div>
                                        <div style="font-size: 16px; font-weight: 700; color: var(--apple-blue);">87.3</div>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3);">📊 Category Leaders</h4>

                                    <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                                        <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-2); background: var(--gray-50); border-radius: var(--radius-sm);">
                                            <span style="font-size: 12px; color: var(--text-primary);">Customer Service</span>
                                            <span style="font-size: 12px; font-weight: 600; color: var(--apple-green);">You lead by 3.2 pts</span>
                                        </div>

                                        <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-2); background: var(--gray-50); border-radius: var(--radius-sm);">
                                            <span style="font-size: 12px; color: var(--text-primary);">Facility Quality</span>
                                            <span style="font-size: 12px; font-weight: 600; color: var(--apple-orange);">Behind by 2.1 pts</span>
                                        </div>

                                        <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-2); background: var(--gray-50); border-radius: var(--radius-sm);">
                                            <span style="font-size: 12px; color: var(--text-primary);">Process Efficiency</span>
                                            <span style="font-size: 12px; font-weight: 600; color: var(--apple-green);">You lead by 1.8 pts</span>
                                        </div>

                                        <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-2); background: var(--gray-50); border-radius: var(--radius-sm);">
                                            <span style="font-size: 12px; color: var(--text-primary);">Follow-up</span>
                                            <span style="font-size: 12px; font-weight: 600; color: var(--apple-red);">Behind by 4.5 pts</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Items & Recommendations -->
                    <div style="margin-bottom: var(--space-12);">
                        <h2 class="subsection-header" style="font-size: 20px; margin-bottom: var(--space-6);">🎯 Strategic Recommendations</h2>

                        <div class="apple-grid grid-3">
                            <div class="apple-card" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(255, 59, 48, 0.05), var(--white)); border-left: 3px solid var(--apple-red);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="width: 8px; height: 8px; background: var(--apple-red); border-radius: 50%;"></div>
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-red); text-transform: uppercase;">High Priority</div>
                                    </div>
                                    <div style="font-size: 18px;">🚨</div>
                                </div>
                                <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Improve Follow-up</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">Currently 4.5 points behind market leaders in customer follow-up processes.</div>
                                <div style="display: flex; gap: var(--space-2);">
                                    <button class="apple-btn btn-primary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Implement</button>
                                    <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Details</button>
                                </div>
                            </div>

                            <div class="apple-card" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(255, 149, 0, 0.05), var(--white)); border-left: 3px solid var(--apple-orange);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="width: 8px; height: 8px; background: var(--apple-orange); border-radius: 50%;"></div>
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-orange); text-transform: uppercase;">Medium Priority</div>
                                    </div>
                                    <div style="font-size: 18px;">🏢</div>
                                </div>
                                <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Facility Upgrades</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">Customer waiting area and digital displays need modernization to match leading competitors.</div>
                                <div style="display: flex; gap: var(--space-2);">
                                    <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Schedule</button>
                                    <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">View</button>
                                </div>
                            </div>

                            <div class="apple-card" style="padding: var(--space-6); background: linear-gradient(135deg, rgba(52, 199, 89, 0.05), var(--white)); border-left: 3px solid var(--apple-green);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <div style="width: 8px; height: 8px; background: var(--apple-green); border-radius: 50%;"></div>
                                        <div style="font-size: 12px; font-weight: 600; color: var(--apple-green); text-transform: uppercase;">Maintain</div>
                                    </div>
                                    <div style="font-size: 18px;">⭐</div>
                                </div>
                                <div style="font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Service Excellence</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: var(--space-4);">Continue current training programs - leading market in customer service by 3.2 points.</div>
                                <div style="display: flex; gap: var(--space-2);">
                                    <button class="apple-btn btn-secondary" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Monitor</button>
                                    <button class="apple-btn btn-ghost" style="font-size: 12px; padding: var(--space-2) var(--space-3);">Report</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="apple-grid grid-4">
                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">📋</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Schedule Visit</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Book next mystery shop</div>
                            <button class="apple-btn btn-primary" style="font-size: 12px; width: 100%;">Schedule Now</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">📊</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Full Report</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Detailed analysis</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Download</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">👥</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Team Training</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Based on findings</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">Create Plan</button>
                        </div>

                        <div class="apple-card clickable" style="padding: var(--space-6); text-align: center; background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);">
                            <div style="font-size: 32px; margin-bottom: var(--space-3);">🏆</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">Competitor Intel</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-4);">Market analysis</div>
                            <button class="apple-btn btn-secondary" style="font-size: 12px; width: 100%;">View Report</button>
                        </div>
                    </div>
                </section>
            </div>

            <div id="predictive" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Predictive Analytics</h1>
                    <div style="text-align: center; padding: var(--space-16); color: var(--text-secondary);">
                        <div style="font-size: 48px; margin-bottom: var(--space-4);">🔮</div>
                        <div style="font-size: 18px; font-weight: 500;">Predictive insights coming soon</div>
                    </div>
                </section>
            </div>

            <div id="geo-sge" class="tab-content">
                <section class="section">
                    <h1 class="section-header">GEO/SGE Analysis</h1>
                    <div style="text-align: center; padding: var(--space-16); color: var(--text-secondary);">
                        <div style="font-size: 48px; margin-bottom: var(--space-4);">🌍</div>
                        <div style="font-size: 18px; font-weight: 500;">GEO/SGE analysis coming soon</div>
                    </div>
                </section>
            </div>

            <div id="settings" class="tab-content">
                <section class="section">
                    <h1 class="section-header">Settings</h1>
                    <p class="section-subheader">Dashboard preferences, API configuration, and account management</p>

                    <!-- Settings Navigation -->
                    <div class="settings-nav" style="margin-bottom: var(--space-12);">
                        <button class="settings-nav-btn active" onclick="showSettingsSection('general')" data-section="general">
                            <span class="settings-icon">⚙️</span>
                            <span>General</span>
                        </button>
                        <button class="settings-nav-btn" onclick="showSettingsSection('api')" data-section="api">
                            <span class="settings-icon">🔗</span>
                            <span>API Configuration</span>
                        </button>
                        <button class="settings-nav-btn" onclick="showSettingsSection('notifications')" data-section="notifications">
                            <span class="settings-icon">🔔</span>
                            <span>Notifications</span>
                        </button>
                        <button class="settings-nav-btn" onclick="showSettingsSection('team')" data-section="team">
                            <span class="settings-icon">👥</span>
                            <span>Team & Access</span>
                        </button>
                        <button class="settings-nav-btn" onclick="showSettingsSection('security')" data-section="security">
                            <span class="settings-icon">🔐</span>
                            <span>Security</span>
                        </button>
                    </div>

                    <!-- General Settings Section -->
                    <div id="settings-general" class="settings-section active">
                        <h2 class="settings-section-title">General Preferences</h2>

                        <div class="apple-grid grid-2" style="margin-bottom: var(--space-12);">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Dashboard Appearance</h3>
                                    <div class="setting-status saved">Saved</div>
                                </div>
                                <div class="card-content">
                                    <div class="setting-group">
                                        <div class="setting-item">
                                            <div class="setting-label">
                                                <label for="theme-select">Color Theme</label>
                                                <small>Choose your preferred dashboard theme</small>
                                            </div>
                                            <select id="theme-select" class="setting-select" onchange="changeTheme(this.value)">
                                                <option value="light" selected>Light (Default)</option>
                                                <option value="dark">Dark</option>
                                                <option value="auto">Auto (System)</option>
                                            </select>
                                        </div>

                                        <div class="setting-item">
                                            <div class="setting-label">
                                                <label for="sidebar-toggle">Compact Sidebar</label>
                                                <small>Minimize sidebar navigation</small>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="sidebar-toggle" onchange="toggleCompactSidebar(this.checked)">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>

                                        <div class="setting-item">
                                            <div class="setting-label">
                                                <label for="animations-toggle">Enable Animations</label>
                                                <small>Chart animations and transitions</small>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="animations-toggle" checked onchange="toggleAnimations(this.checked)">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Business Information</h3>
                                    <button class="apple-btn secondary small" onclick="editBusinessInfo()">Edit</button>
                                </div>
                                <div class="card-content">
                                    <div class="business-info">
                                        <div class="business-field">
                                            <label>Business Name</label>
                                            <div class="business-value">Premium Auto Dealership</div>
                                        </div>
                                        <div class="business-field">
                                            <label>Address</label>
                                            <div class="business-value">123 Main Street, Your City, ST 12345</div>
                                        </div>
                                        <div class="business-field">
                                            <label>Phone</label>
                                            <div class="business-value">(555) 123-4567</div>
                                        </div>
                                        <div class="business-field">
                                            <label>Website</label>
                                            <div class="business-value">www.premiumauto.com</div>
                                        </div>
                                        <div class="business-field">
                                            <label>Time Zone</label>
                                            <div class="business-value">Eastern Time (GMT-5)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card">
                            <div class="card-header">
                                <h3 class="card-title">Data Refresh Settings</h3>
                                <div class="refresh-status">
                                    <span class="status-dot connected"></span>
                                    <span>Auto-refresh enabled</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="apple-grid grid-3">
                                    <div class="refresh-setting">
                                        <div class="refresh-label">Overview Dashboard</div>
                                        <select class="setting-select small">
                                            <option value="5">Every 5 minutes</option>
                                            <option value="15" selected>Every 15 minutes</option>
                                            <option value="30">Every 30 minutes</option>
                                            <option value="60">Every hour</option>
                                        </select>
                                    </div>
                                    <div class="refresh-setting">
                                        <div class="refresh-label">Review Data</div>
                                        <select class="setting-select small">
                                            <option value="15" selected>Every 15 minutes</option>
                                            <option value="30">Every 30 minutes</option>
                                            <option value="60">Every hour</option>
                                            <option value="manual">Manual only</option>
                                        </select>
                                    </div>
                                    <div class="refresh-setting">
                                        <div class="refresh-label">Performance Metrics</div>
                                        <select class="setting-select small">
                                            <option value="30" selected>Every 30 minutes</option>
                                            <option value="60">Every hour</option>
                                            <option value="240">Every 4 hours</option>
                                            <option value="daily">Daily</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- API Configuration Section -->
                    <div id="settings-api" class="settings-section">
                        <h2 class="settings-section-title">API Configuration</h2>

                        <div class="apple-grid grid-1" style="margin-bottom: var(--space-8);">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Connection Status</h3>
                                    <button class="apple-btn primary small" onclick="testAllConnections()">Test All</button>
                                </div>
                                <div class="card-content">
                                    <div class="api-status-grid">
                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon google">G</div>
                                                <div class="api-details">
                                                    <div class="api-name">Google Analytics</div>
                                                    <div class="api-endpoint">analytics.googleapis.com</div>
                                                </div>
                                            </div>
                                            <div class="api-status connected">
                                                <span class="status-dot connected"></span>
                                                <span>Connected</span>
                                            </div>
                                        </div>

                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon google">G</div>
                                                <div class="api-details">
                                                    <div class="api-name">Google Search Console</div>
                                                    <div class="api-endpoint">searchconsole.googleapis.com</div>
                                                </div>
                                            </div>
                                            <div class="api-status connected">
                                                <span class="status-dot connected"></span>
                                                <span>Connected</span>
                                            </div>
                                        </div>

                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon google">G</div>
                                                <div class="api-details">
                                                    <div class="api-name">Google My Business</div>
                                                    <div class="api-endpoint">mybusiness.googleapis.com</div>
                                                </div>
                                            </div>
                                            <div class="api-status connected">
                                                <span class="status-dot connected"></span>
                                                <span>Connected</span>
                                            </div>
                                        </div>

                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon facebook">f</div>
                                                <div class="api-details">
                                                    <div class="api-name">Facebook Business</div>
                                                    <div class="api-endpoint">graph.facebook.com</div>
                                                </div>
                                            </div>
                                            <div class="api-status warning">
                                                <span class="status-dot warning"></span>
                                                <span>Limited Access</span>
                                            </div>
                                        </div>

                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon yelp">Y</div>
                                                <div class="api-details">
                                                    <div class="api-name">Yelp Fusion</div>
                                                    <div class="api-endpoint">api.yelp.com</div>
                                                </div>
                                            </div>
                                            <div class="api-status connected">
                                                <span class="status-dot connected"></span>
                                                <span>Connected</span>
                                            </div>
                                        </div>

                                        <div class="api-status-item">
                                            <div class="api-info">
                                                <div class="api-icon supabase">S</div>
                                                <div class="api-details">
                                                    <div class="api-name">Supabase Database</div>
                                                    <div class="api-endpoint">your-project.supabase.co</div>
                                                </div>
                                            </div>
                                            <div class="api-status connected">
                                                <span class="status-dot connected"></span>
                                                <span>Connected</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-grid grid-2">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">API Rate Limits</h3>
                                    <div class="rate-limit-status">24h Usage</div>
                                </div>
                                <div class="card-content">
                                    <div class="rate-limit-list">
                                        <div class="rate-limit-item">
                                            <div class="rate-limit-info">
                                                <span class="api-name">Google Analytics</span>
                                                <span class="rate-limit-usage">1,247 / 50,000 requests</span>
                                            </div>
                                            <div class="rate-limit-bar">
                                                <div class="rate-limit-fill" style="width: 2.5%; background: var(--apple-green)"></div>
                                            </div>
                                        </div>

                                        <div class="rate-limit-item">
                                            <div class="rate-limit-info">
                                                <span class="api-name">Search Console</span>
                                                <span class="rate-limit-usage">423 / 25,000 requests</span>
                                            </div>
                                            <div class="rate-limit-bar">
                                                <div class="rate-limit-fill" style="width: 1.7%; background: var(--apple-green)"></div>
                                            </div>
                                        </div>

                                        <div class="rate-limit-item">
                                            <div class="rate-limit-info">
                                                <span class="api-name">Facebook API</span>
                                                <span class="rate-limit-usage">2,891 / 4,800 requests</span>
                                            </div>
                                            <div class="rate-limit-bar">
                                                <div class="rate-limit-fill" style="width: 60%; background: var(--apple-orange)"></div>
                                            </div>
                                        </div>

                                        <div class="rate-limit-item">
                                            <div class="rate-limit-info">
                                                <span class="api-name">Yelp Fusion</span>
                                                <span class="rate-limit-usage">156 / 5,000 requests</span>
                                            </div>
                                            <div class="rate-limit-bar">
                                                <div class="rate-limit-fill" style="width: 3.1%; background: var(--apple-green)"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">API Key Management</h3>
                                    <button class="apple-btn secondary small" onclick="manageApiKeys()">Manage Keys</button>
                                </div>
                                <div class="card-content">
                                    <div class="api-key-info">
                                        <div class="key-status-item">
                                            <span class="key-label">Keys Stored</span>
                                            <span class="key-value">6 / 6</span>
                                        </div>
                                        <div class="key-status-item">
                                            <span class="key-label">Encryption</span>
                                            <span class="key-value encrypted">AES-256</span>
                                        </div>
                                        <div class="key-status-item">
                                            <span class="key-label">Last Updated</span>
                                            <span class="key-value">2 days ago</span>
                                        </div>
                                        <div class="key-status-item">
                                            <span class="key-label">Auto Rotation</span>
                                            <span class="key-value enabled">Enabled</span>
                                        </div>
                                    </div>
                                    <div class="api-key-actions">
                                        <button class="api-key-btn" onclick="rotateApiKeys()">Rotate Keys</button>
                                        <button class="api-key-btn" onclick="exportApiConfig()">Export Config</button>
                                        <button class="api-key-btn" onclick="validateAllKeys()">Validate All</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notifications Section -->
                    <div id="settings-notifications" class="settings-section">
                        <h2 class="settings-section-title">Notification Preferences</h2>

                        <div class="apple-grid grid-2">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Alert Settings</h3>
                                    <div class="notification-status">
                                        <span class="status-dot connected"></span>
                                        <span>Active</span>
                                    </div>
                                </div>
                                <div class="card-content">
                                    <div class="notification-categories">
                                        <div class="notification-category">
                                            <div class="category-header">
                                                <h4>Review Alerts</h4>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked onchange="toggleNotificationCategory('reviews', this.checked)">
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="notification-options">
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" checked>
                                                        <span>New negative reviews (1-2 stars)</span>
                                                    </label>
                                                </div>
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" checked>
                                                        <span>Response deadlines approaching</span>
                                                    </label>
                                                </div>
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox">
                                                        <span>All new reviews</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="notification-category">
                                            <div class="category-header">
                                                <h4>Performance Alerts</h4>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked onchange="toggleNotificationCategory('performance', this.checked)">
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="notification-options">
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" checked>
                                                        <span>Website performance drops below 85</span>
                                                    </label>
                                                </div>
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox">
                                                        <span>Core Web Vitals degradation</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="notification-category">
                                            <div class="category-header">
                                                <h4>System Alerts</h4>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked onchange="toggleNotificationCategory('system', this.checked)">
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="notification-options">
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" checked>
                                                        <span>API connection failures</span>
                                                    </label>
                                                </div>
                                                <div class="notification-option">
                                                    <label class="checkbox-label">
                                                        <input type="checkbox" checked>
                                                        <span>Rate limit approaching (90%)</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Delivery Methods</h3>
                                    <button class="apple-btn secondary small" onclick="testNotifications()">Test</button>
                                </div>
                                <div class="card-content">
                                    <div class="delivery-methods">
                                        <div class="delivery-method">
                                            <div class="method-header">
                                                <div class="method-icon">📧</div>
                                                <div class="method-info">
                                                    <div class="method-name">Email Notifications</div>
                                                    <div class="method-address">admin@premiumauto.com</div>
                                                </div>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked>
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="method-schedule">
                                                <select class="setting-select small">
                                                    <option value="immediate" selected>Immediate</option>
                                                    <option value="hourly">Hourly digest</option>
                                                    <option value="daily">Daily digest</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="delivery-method">
                                            <div class="method-header">
                                                <div class="method-icon">📱</div>
                                                <div class="method-info">
                                                    <div class="method-name">SMS Notifications</div>
                                                    <div class="method-address">(555) 123-4567</div>
                                                </div>
                                                <label class="toggle-switch">
                                                    <input type="checkbox">
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <div class="method-note">For urgent alerts only</div>
                                        </div>

                                        <div class="delivery-method">
                                            <div class="method-header">
                                                <div class="method-icon">💬</div>
                                                <div class="method-info">
                                                    <div class="method-name">Slack Integration</div>
                                                    <div class="method-address">#dealership-alerts</div>
                                                </div>
                                                <label class="toggle-switch">
                                                    <input type="checkbox" checked>
                                                    <span class="toggle-slider"></span>
                                                </label>
                                            </div>
                                            <button class="method-config" onclick="configureSlack()">Configure</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Team & Access Section -->
                    <div id="settings-team" class="settings-section">
                        <h2 class="settings-section-title">Team & Access Management</h2>

                        <div class="apple-grid grid-2">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Team Members</h3>
                                    <button class="apple-btn primary small" onclick="inviteTeamMember()">Invite Member</button>
                                </div>
                                <div class="card-content">
                                    <div class="team-members-list">
                                        <div class="team-member">
                                            <div class="member-avatar admin">A</div>
                                            <div class="member-info">
                                                <div class="member-name">Admin User</div>
                                                <div class="member-email">admin@premiumauto.com</div>
                                            </div>
                                            <div class="member-role admin">Admin</div>
                                            <div class="member-status active">Active</div>
                                        </div>

                                        <div class="team-member">
                                            <div class="member-avatar manager">M</div>
                                            <div class="member-info">
                                                <div class="member-name">Marketing Manager</div>
                                                <div class="member-email">marketing@premiumauto.com</div>
                                            </div>
                                            <div class="member-role manager">Manager</div>
                                            <div class="member-status active">Active</div>
                                        </div>

                                        <div class="team-member">
                                            <div class="member-avatar basic">S</div>
                                            <div class="member-info">
                                                <div class="member-name">Sales Rep</div>
                                                <div class="member-email">sales@premiumauto.com</div>
                                            </div>
                                            <div class="member-role basic">Basic User</div>
                                            <div class="member-status pending">Pending</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Role Permissions</h3>
                                    <div class="role-selector">
                                        <select class="setting-select" onchange="showRolePermissions(this.value)">
                                            <option value="admin">Admin</option>
                                            <option value="manager" selected>Manager</option>
                                            <option value="basic">Basic User</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="card-content">
                                    <div class="permissions-grid" id="role-permissions">
                                        <div class="permission-category">
                                            <h4>Dashboard Access</h4>
                                            <div class="permission-item">
                                                <span>View all tabs</span>
                                                <span class="permission-status allowed">✓</span>
                                            </div>
                                            <div class="permission-item">
                                                <span>Export data</span>
                                                <span class="permission-status allowed">✓</span>
                                            </div>
                                        </div>

                                        <div class="permission-category">
                                            <h4>Review Management</h4>
                                            <div class="permission-item">
                                                <span>Respond to reviews</span>
                                                <span class="permission-status allowed">✓</span>
                                            </div>
                                            <div class="permission-item">
                                                <span>Manage templates</span>
                                                <span class="permission-status allowed">✓</span>
                                            </div>
                                        </div>

                                        <div class="permission-category">
                                            <h4>Settings</h4>
                                            <div class="permission-item">
                                                <span>Modify settings</span>
                                                <span class="permission-status denied">✗</span>
                                            </div>
                                            <div class="permission-item">
                                                <span>Manage API keys</span>
                                                <span class="permission-status denied">✗</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Security Section -->
                    <div id="settings-security" class="settings-section">
                        <h2 class="settings-section-title">Security & Privacy</h2>

                        <div class="apple-grid grid-2">
                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Authentication</h3>
                                    <div class="security-status">
                                        <span class="status-dot connected"></span>
                                        <span>Secured</span>
                                    </div>
                                </div>
                                <div class="card-content">
                                    <div class="security-options">
                                        <div class="security-option">
                                            <div class="security-info">
                                                <h4>Two-Factor Authentication</h4>
                                                <p>Add an extra layer of security to your account</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" checked onchange="toggle2FA(this.checked)">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>

                                        <div class="security-option">
                                            <div class="security-info">
                                                <h4>Session Timeout</h4>
                                                <p>Automatically log out after inactivity</p>
                                            </div>
                                            <select class="setting-select">
                                                <option value="30">30 minutes</option>
                                                <option value="60" selected>1 hour</option>
                                                <option value="240">4 hours</option>
                                                <option value="never">Never</option>
                                            </select>
                                        </div>

                                        <div class="security-option">
                                            <div class="security-info">
                                                <h4>Login Notifications</h4>
                                                <p>Get notified of new login attempts</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="security-actions">
                                        <button class="security-btn" onclick="changePassword()">Change Password</button>
                                        <button class="security-btn" onclick="viewLoginHistory()">Login History</button>
                                        <button class="security-btn" onclick="revokeAllSessions()">Revoke All Sessions</button>
                                    </div>
                                </div>
                            </div>

                            <div class="apple-card">
                                <div class="card-header">
                                    <h3 class="card-title">Data & Privacy</h3>
                                    <button class="apple-btn secondary small" onclick="downloadDataExport()">Export Data</button>
                                </div>
                                <div class="card-content">
                                    <div class="privacy-settings">
                                        <div class="privacy-option">
                                            <div class="privacy-info">
                                                <h4>Data Retention</h4>
                                                <p>How long to keep historical data</p>
                                            </div>
                                            <select class="setting-select">
                                                <option value="90">90 days</option>
                                                <option value="180">6 months</option>
                                                <option value="365" selected>1 year</option>
                                                <option value="730">2 years</option>
                                            </select>
                                        </div>

                                        <div class="privacy-option">
                                            <div class="privacy-info">
                                                <h4>Analytics Tracking</h4>
                                                <p>Help improve the dashboard with usage data</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>

                                        <div class="privacy-option">
                                            <div class="privacy-info">
                                                <h4>Data Backup</h4>
                                                <p>Automatic daily backups to secure storage</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>

                                        <div class="privacy-option">
                                            <div class="privacy-info">
                                                <h4>GDPR Compliance</h4>
                                                <p>Ensure customer data handling meets GDPR standards</p>
                                            </div>
                                            <div class="compliance-status enabled">Enabled</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="apple-card" style="margin-top: var(--space-8);">
                            <div class="card-header">
                                <h3 class="card-title">Danger Zone</h3>
                                <div class="danger-warning">⚠️ Irreversible Actions</div>
                            </div>
                            <div class="card-content">
                                <div class="danger-actions">
                                    <div class="danger-action">
                                        <div class="danger-info">
                                            <h4>Reset All Settings</h4>
                                            <p>Restore all settings to their default values</p>
                                        </div>
                                        <button class="danger-btn" onclick="resetAllSettings()">Reset Settings</button>
                                    </div>

                                    <div class="danger-action">
                                        <div class="danger-info">
                                            <h4>Clear All Data</h4>
                                            <p>Permanently delete all stored dashboard data</p>
                                        </div>
                                        <button class="danger-btn" onclick="clearAllData()">Clear Data</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Save Settings Button -->
                    <div class="settings-footer">
                        <button class="apple-btn primary large" onclick="saveAllSettings()">
                            <span>Save All Settings</span>
                        </button>
                        <button class="apple-btn secondary large" onclick="resetToDefaults()">
                            <span>Reset to Defaults</span>
                        </button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- SEO Modal -->
    <div id="seo-modal" class="cupertino-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">SEO Visibility Analysis</div>
                <button class="modal-close" onclick="closeModal('seo-modal')">×</button>
            </div>
            <div class="modal-body">
                <div class="health-score">
                    <div class="health-value">87.3</div>
                    <div class="health-label">SEO Visibility Score</div>
                    <div class="health-progress">
                        <div class="health-bar" style="width: 87.3%"></div>
                    </div>
                </div>
                <p style="color: var(--text-secondary); text-align: center; margin-bottom: var(--space-8);">
                    Your SEO visibility score indicates strong performance across traditional search metrics with room for improvement in specific areas.
                </p>
                <div style="display: flex; gap: var(--space-3); justify-content: center;">
                    <button class="apple-btn btn-primary">View Recommendations</button>
                    <button class="apple-btn btn-secondary">Export Analysis</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AEO Modal -->
    <div id="aeo-modal" class="cupertino-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">AEO Visibility Analysis</div>
                <button class="modal-close" onclick="closeModal('aeo-modal')">×</button>
            </div>
            <div class="modal-body">
                <div class="health-score">
                    <div class="health-value" style="color: var(--apple-orange);">73.8</div>
                    <div class="health-label">AEO Visibility Score</div>
                    <div class="health-progress">
                        <div class="health-bar" style="width: 73.8%; background: var(--apple-orange)"></div>
                    </div>
                </div>
                <p style="color: var(--text-secondary); text-align: center; margin-bottom: var(--space-8);">
                    Answer Engine Optimization showing moderate performance with significant opportunities for featured snippets and voice search improvements.
                </p>
                <div style="display: flex; gap: var(--space-3); justify-content: center;">
                    <button class="apple-btn btn-primary">Optimize Now</button>
                    <button class="apple-btn btn-secondary">View Details</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GEO Modal -->
    <div id="geo-modal" class="cupertino-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">GEO Visibility Analysis</div>
                <button class="modal-close" onclick="closeModal('geo-modal')">×</button>
            </div>
            <div class="modal-body">
                <div class="health-score">
                    <div class="health-value" style="color: var(--apple-red);">65.2</div>
                    <div class="health-label">GEO Visibility Score</div>
                    <div class="health-progress">
                        <div class="health-bar" style="width: 65.2%; background: var(--apple-red)"></div>
                    </div>
                </div>
                <p style="color: var(--text-secondary); text-align: center; margin-bottom: var(--space-8);">
                    <strong style="color: var(--apple-red);">Critical attention needed.</strong> Your generative engine optimization requires immediate improvements to maintain competitive positioning in AI-driven search results.
                </p>
                <div style="display: flex; gap: var(--space-3); justify-content: center;">
                    <button class="apple-btn btn-primary">Emergency Action Plan</button>
                    <button class="apple-btn btn-secondary">View Issues</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Cupertino-style JavaScript
        function initializeDashboard() {
            updateTime();
            setInterval(updateTime, 60000);
            animateProgressBars();
        }

        function updateTime() {
            const now = new Date();
            const options = {
                month: 'short',
                day: 'numeric',
                year: 'numeric',
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            };
            document.getElementById('current-time').textContent = now.toLocaleDateString('en-US', options);
        }

        function switchTab(tabName) {
            // Remove active from all tabs and content
            document.querySelectorAll('.apple-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Add active to selected
            event.target.classList.add('active');
            const selectedContent = document.getElementById(tabName);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }

            // Enhanced: Initialize AI Health when tab is selected
            if (tabName === 'ai-health' && window.aiHealthDashboard) {
                setTimeout(() => {
                    window.aiHealthDashboard.initialize();
                }, 300);
            }
        }

        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill, .health-bar');
            progressBars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 100);
            });
        }

        // AI Health Dashboard Functions
        async function initializeAIHealth() {
            updateAIStatusBanner('connecting', 'Loading API keys from Supabase...');

            // DISABLED: Problematic API initialization - replaced by final-clean-fix.js
            /*
            try {
                // Initialize the API service
                if (typeof DealershipAI_API !== 'undefined') {
                    window.apiService = new DealershipAI_API();
                    await new Promise(resolve => setTimeout(resolve, 2000)); // Allow time for keys to load

                    updateAIStatusBanner('connected', 'Connected to all API services');
                    await loadAIHealthData();
                } else {
                    // Fallback to demo data if API service not available
                    updateAIStatusBanner('error', 'API service unavailable - showing demo data');
                    loadDemoAIData();
                }
            } catch (error) {
                console.error('AI Health initialization error:', error);
                updateAIStatusBanner('error', 'Connection failed - showing demo data');
                loadDemoAIData();
            }
            */
        }

        function updateAIStatusBanner(status, message) {
            const banner = document.getElementById('aiStatusBanner');
            const dot = banner.querySelector('.status-dot');
            const text = banner.querySelector('span');

            dot.className = `status-dot ${status}`;
            text.textContent = message;

            if (status === 'connected') {
                banner.style.background = 'linear-gradient(135deg, var(--apple-green), #28A745)';
            } else if (status === 'error') {
                banner.style.background = 'linear-gradient(135deg, var(--apple-red), #DC3545)';
            }
        }

        async function loadAIHealthData() {
            try {
                const aiData = await window.apiService.getAICitations();
                updateAIPlatformMetrics(aiData);
                calculateOverallAIHealth(aiData);
                loadAIRecommendations(aiData);
            } catch (error) {
                console.error('Error loading AI health data:', error);
                loadDemoAIData();
            }
        }

        function loadDemoAIData() {
            const demoData = {
                chatgpt: { citations: 78, score: 85, change: 5.2 },
                gemini: { citations: 12, score: 62, change: -2.1 },
                perplexity: { citations: 65, score: 73, change: 8.7 },
                copilot: { citations: 8, score: 58, change: -1.3 },
                claude: { citations: 34, score: 71, change: 3.4 }
            };

            updateAIPlatformMetrics(demoData);
            calculateOverallAIHealth(demoData);
            loadAIRecommendations(demoData);
        }

        function updateAIPlatformMetrics(data) {
            Object.keys(data).forEach(platform => {
                const platformData = data[platform];

                // Update citations
                const citationsElement = document.getElementById(`${platform}-citations`);
                if (citationsElement) {
                    animateNumber(citationsElement, 0, platformData.citations, 1500);
                }

                // Update score bar
                const scoreElement = document.getElementById(`${platform}-score`);
                if (scoreElement) {
                    setTimeout(() => {
                        scoreElement.style.width = `${platformData.score}%`;
                    }, 500);
                }

                // Update score text
                const scoreTextElement = document.getElementById(`${platform}-score-text`);
                if (scoreTextElement) {
                    scoreTextElement.textContent = `${platformData.score} score`;
                }

                // Update trend
                const trendElement = document.getElementById(`${platform}-trend`);
                if (trendElement) {
                    const trendValue = trendElement.querySelector('.trend-value');
                    const change = platformData.change;
                    trendValue.textContent = change > 0 ? `+${change}%` : `${change}%`;
                    trendValue.style.color = change > 0 ? 'var(--apple-green)' : 'var(--apple-red)';
                }
            });
        }

        function calculateOverallAIHealth(data) {
            const scores = Object.values(data).map(platform => platform.score);
            const citations = Object.values(data).map(platform => platform.citations);

            const avgScore = scores.reduce((a, b) => a + b, 0) / scores.length;
            const totalCitations = citations.reduce((a, b) => a + b, 0);

            // Overall health considers both score and citation volume
            const overallHealth = Math.round((avgScore + Math.min(totalCitations / 2, 50)) / 1.5);

            // Update overall score
            const scoreElement = document.getElementById('overall-ai-score');
            if (scoreElement) {
                animateNumber(scoreElement, 0, overallHealth, 2000);
            }

            // Update health ring
            const ringElement = document.getElementById('overall-health-ring');
            if (ringElement) {
                setTimeout(() => {
                    const percentage = overallHealth;
                    ringElement.style.background = `conic-gradient(var(--apple-green) ${percentage * 3.6}deg, var(--gray-200) 0deg)`;
                }, 1000);
            }

            // Update status
            const statusElement = document.getElementById('overall-health-status');
            if (statusElement) {
                let status = 'Excellent';
                if (overallHealth < 70) status = 'Good';
                if (overallHealth < 50) status = 'Needs Attention';
                if (overallHealth < 30) status = 'Critical';

                statusElement.textContent = status;
                statusElement.style.color = overallHealth > 70 ? 'var(--apple-green)' :
                                          overallHealth > 50 ? 'var(--apple-orange)' : 'var(--apple-red)';
            }
        }

        function loadAIRecommendations(data) {
            const recommendationsContainer = document.getElementById('aiRecommendations');

            // Generate recommendations based on AI data
            const recommendations = generateAIRecommendations(data);

            setTimeout(() => {
                recommendationsContainer.innerHTML = recommendations.map(rec => `
                    <div class="recommendation-card">
                        <div style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                            <span style="font-size: 24px;">${rec.icon}</span>
                            <div>
                                <h4 style="font-weight: 600; color: var(--text-primary);">${rec.title}</h4>
                                <p style="color: var(--text-secondary); font-size: 14px;">${rec.priority}</p>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); line-height: 1.5;">${rec.description}</p>
                        <div style="margin-top: var(--space-4);">
                            <span style="background: var(--apple-blue); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 500;">
                                ${rec.impact}
                            </span>
                        </div>
                    </div>
                `).join('');
            }, 1500);
        }

        function generateAIRecommendations(data) {
            const recommendations = [];

            // Analyze data and generate recommendations
            const sortedPlatforms = Object.entries(data).sort((a, b) => b[1].score - a[1].score);
            const lowestPerforming = sortedPlatforms[sortedPlatforms.length - 1];
            const highestPerforming = sortedPlatforms[0];

            if (lowestPerforming[1].score < 60) {
                recommendations.push({
                    icon: '🎯',
                    title: `Optimize ${lowestPerforming[0].toUpperCase()} presence`,
                    priority: 'High Priority',
                    description: `Your ${lowestPerforming[0]} citation score is ${lowestPerforming[1].score}, which is below optimal. Focus on improving content quality and relevance for this platform.`,
                    impact: 'High Impact'
                });
            }

            if (data.chatgpt.citations > 50 && data.perplexity.citations < 30) {
                recommendations.push({
                    icon: '🔍',
                    title: 'Expand Perplexity optimization',
                    priority: 'Medium Priority',
                    description: 'Your ChatGPT performance is strong, but Perplexity citations are lagging. Consider creating more research-focused content.',
                    impact: 'Medium Impact'
                });
            }

            recommendations.push({
                icon: '📊',
                title: 'Monitor citation trends',
                priority: 'Ongoing',
                description: 'Continue tracking AI platform performance weekly to identify new opportunities and potential issues early.',
                impact: 'Continuous Value'
            });

            return recommendations;
        }

        function animateNumber(element, start, end, duration) {
            const startTime = performance.now();

            function updateNumber(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                const current = Math.floor(start + (end - start) * progress);
                element.textContent = current;

                if (progress < 1) {
                    requestAnimationFrame(updateNumber);
                }
            }

            requestAnimationFrame(updateNumber);
        }

        // Modify the switchTab function to initialize AI Health when tab is selected
        const originalSwitchTab = switchTab;
        function switchTab(tabName) {
            originalSwitchTab.call(this, tabName);

            if (tabName === 'ai-health') {
                // Initialize AI Health Dashboard when tab is first opened
                if (!window.aiHealthInitialized) {
                    window.aiHealthInitialized = true;
                    setTimeout(initializeAIHealth, 500);
                }
            }
        }

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';

                // Animate progress bars in modal
                setTimeout(() => {
                    const progressBars = modal.querySelectorAll('.health-bar');
                    progressBars.forEach(bar => {
                        const width = bar.style.width;
                        bar.style.width = '0%';
                        setTimeout(() => bar.style.width = width, 200);
                    });
                }, 300);
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }
        }

        // DISABLED: Problematic initialization code - replaced by final-clean-fix.js
        /*
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Initialize API service
                const apiService = new DealershipAI_API();

                // Initialize dashboard tabs
                const dashboardTabs = new DashboardTabs(apiService);
                await dashboardTabs.initialize();

                // Initialize real-time manager
                const realTimeManager = new RealTimeManager(apiService);
                await realTimeManager.initialize();

                // Store managers globally for access
                window.dashboardManager = {
                    api: apiService,
                    tabs: dashboardTabs,
                    realTime: realTimeManager
                };

                // Initialize base dashboard
                initializeDashboard();

                console.log('🚀 DealershipAI Dashboard fully initialized with API integration and real-time updates');
            } catch (error) {
                console.error('❌ Failed to initialize dashboard:', error);
            }
        });
        */

        // Close modal on backdrop click
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('cupertino-modal')) {
                closeModal(event.target.id);
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const openModal = document.querySelector('.cupertino-modal.show');
                if (openModal) {
                    closeModal(openModal.id);
                }
            }
        });

        // Add subtle hover effects to cards
        document.querySelectorAll('.apple-card.clickable').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-4px)';
            });

            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Website Performance Tab Functions
        function refreshPerformanceData() {
            console.log('Refreshing performance data...');

            // Simulate API call with loading state
            const refreshBtn = event.target;
            const originalText = refreshBtn.textContent;
            refreshBtn.textContent = 'Refreshing...';
            refreshBtn.disabled = true;

            setTimeout(() => {
                // Simulate new data
                const performanceData = {
                    performanceScore: Math.floor(Math.random() * 10) + 88,
                    loadTime: (Math.random() * 0.5 + 1.5).toFixed(1) + 's',
                    seoScore: Math.floor(Math.random() * 15) + 85 + '%',
                    criticalIssues: Math.floor(Math.random() * 5) + 1,
                    lcp: (Math.random() * 0.5 + 1.0).toFixed(1) + 's',
                    fid: Math.floor(Math.random() * 30) + 70 + 'ms',
                    cls: (Math.random() * 0.1 + 0.08).toFixed(2),
                    fcp: (Math.random() * 0.3 + 0.7).toFixed(1) + 's',
                    speedIndex: (Math.random() * 0.5 + 1.5).toFixed(1) + 's',
                    tti: (Math.random() * 0.8 + 2.0).toFixed(1) + 's',
                    tbt: Math.floor(Math.random() * 50) + 150 + 'ms',
                    auditScore: Math.floor(Math.random() * 10) + 85,
                    totalIssues: Math.floor(Math.random() * 5) + 5 + ' Issues'
                };

                // Update metrics with animation
                Object.keys(performanceData).forEach(key => {
                    const elements = document.querySelectorAll(`[data-website-metric="${key.replace(/([A-Z])/g, '-$1').toLowerCase()}"]`);
                    elements.forEach(element => {
                        element.style.opacity = '0.5';
                        setTimeout(() => {
                            element.textContent = performanceData[key];
                            element.style.opacity = '1';
                        }, 300);
                    });
                });

                refreshBtn.textContent = originalText;
                refreshBtn.disabled = false;
            }, 2000);
        }

        function runPerformanceAudit() {
            console.log('Running full performance audit...');

            const auditBtn = event.target;
            const originalText = auditBtn.textContent;
            auditBtn.innerHTML = '<span>Running Audit...</span>';
            auditBtn.disabled = true;

            // Simulate comprehensive audit
            setTimeout(() => {
                // Show modal with detailed results
                openModal('performanceAuditModal');

                auditBtn.innerHTML = originalText;
                auditBtn.disabled = false;
            }, 3000);
        }

        function exportPerformanceReport() {
            console.log('Exporting performance report...');

            // Simulate report generation
            const exportBtn = event.target;
            const originalText = exportBtn.textContent;
            exportBtn.innerHTML = '<span>Generating...</span>';
            exportBtn.disabled = true;

            setTimeout(() => {
                // Create and download a mock CSV report
                const csvContent = `Performance Report - ${new Date().toLocaleDateString()}
Metric,Value,Status
Performance Score,92,Good
Load Time,1.8s,Good
SEO Health,89%,Good
Critical Issues,3,Needs Attention
LCP,1.2s,Good
FID,85ms,Good
CLS,0.12,Needs Improvement
First Contentful Paint,0.9s,Good
Speed Index,1.8s,Fair
Time to Interactive,2.3s,Fair
Total Blocking Time,180ms,Needs Improvement`;

                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `performance-report-${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                window.URL.revokeObjectURL(url);

                exportBtn.innerHTML = originalText;
                exportBtn.disabled = false;
            }, 1500);
        }

        function scheduleMonitoring() {
            console.log('Opening monitoring schedule...');
            alert('Performance monitoring can be scheduled for:\n\n• Daily reports at 9:00 AM\n• Weekly comprehensive audits\n• Real-time alerts for performance drops\n\nThis feature connects to Google Analytics and PageSpeed Insights.');
        }

        function viewHistoricalData() {
            console.log('Opening historical data view...');
            alert('Historical Performance Data:\n\n• 7-day trend: +8% improvement\n• 30-day average: 89 performance score\n• Best performing day: 96 score\n• Worst performing day: 82 score\n\nFull historical data available in production dashboard.');
        }

        // Performance issue fixing functions
        function fixImageOptimization() {
            console.log('Fixing image optimization...');
            alert('Image Optimization Fix:\n\n1. Compress images using WebP format\n2. Add lazy loading attributes\n3. Set proper image dimensions\n4. Use responsive images with srcset\n\nEstimated improvement: +12 performance points');
        }

        function removeUnusedJS() {
            console.log('Removing unused JavaScript...');
            alert('JavaScript Optimization:\n\n1. Tree-shake unused code\n2. Split code into smaller chunks\n3. Lazy load non-critical scripts\n4. Minify and compress JS files\n\nEstimated improvement: +8 performance points');
        }

        function addAltTags() {
            console.log('Adding alt tags to images...');
            alert('Image Accessibility Fix:\n\n1. Audit all images for alt attributes\n2. Add descriptive alt text\n3. Use empty alt="" for decorative images\n4. Update CMS templates\n\nImprovement: Better SEO and accessibility');
        }

        function enableCompression() {
            console.log('Enabling text compression...');
            alert('Text Compression Setup:\n\n1. Enable Gzip compression on server\n2. Configure Brotli for better compression\n3. Set proper compression levels\n4. Test compression effectiveness\n\nEstimated improvement: +5 performance points');
        }

        // Initialize Website Performance features when tab is selected
        function initializeWebsitePerformance() {
            console.log('🌐 Initializing Website Performance dashboard...');

            // Animate Core Web Vitals rings
            setTimeout(() => {
                const rings = document.querySelectorAll('[data-metric]');
                rings.forEach(ring => {
                    const metric = ring.getAttribute('data-metric');
                    let percentage = 0;

                    switch(metric) {
                        case 'lcp':
                            percentage = 78; // Good LCP
                            break;
                        case 'fid':
                            percentage = 89; // Excellent FID
                            break;
                        case 'cls':
                            percentage = 69; // Needs work CLS
                            break;
                    }

                    ring.style.background = `conic-gradient(var(--apple-${percentage > 75 ? 'green' : percentage > 60 ? 'orange' : 'red'}) ${percentage * 3.6}deg, var(--gray-200) 0deg)`;
                });
            }, 500);
        }

        // Review Management Tab Functions
        function refreshReviews() {
            console.log('Refreshing review data...');

            const refreshBtn = event.target;
            const originalText = refreshBtn.textContent;
            refreshBtn.textContent = 'Refreshing...';
            refreshBtn.disabled = true;

            setTimeout(() => {
                // Simulate new review data
                const reviewData = {
                    avgRating: (Math.random() * 0.4 + 4.5).toFixed(1),
                    totalReviews: Math.floor(Math.random() * 50) + 250,
                    responseTime: (Math.random() * 1.5 + 1.5).toFixed(1) + 'h',
                    pendingResponses: Math.floor(Math.random() * 10) + 5,
                    fiveStar: Math.floor(Math.random() * 15) + 60 + '%',
                    fourStar: Math.floor(Math.random() * 10) + 18 + '%',
                    threeStar: Math.floor(Math.random() * 5) + 5 + '%',
                    lowStar: Math.floor(Math.random() * 3) + 2 + '%'
                };

                // Update metrics with animation
                Object.keys(reviewData).forEach(key => {
                    const elements = document.querySelectorAll(`[data-review-metric="${key.replace(/([A-Z])/g, '-$1').toLowerCase()}"]`);
                    elements.forEach(element => {
                        element.style.opacity = '0.5';
                        setTimeout(() => {
                            element.textContent = reviewData[key];
                            element.style.opacity = '1';
                        }, 300);
                    });
                });

                refreshBtn.textContent = originalText;
                refreshBtn.disabled = false;
            }, 2000);
        }

        function viewPlatformReviews(platform) {
            console.log(`Opening ${platform} reviews...`);

            const platformNames = {
                google: 'Google My Business',
                facebook: 'Facebook',
                yelp: 'Yelp',
                cargurus: 'CarGurus'
            };

            alert(`${platformNames[platform]} Reviews:\n\n• Total Reviews: ${Math.floor(Math.random() * 100) + 50}\n• Average Rating: ${(Math.random() * 0.5 + 4.3).toFixed(1)} stars\n• Response Rate: ${Math.floor(Math.random() * 20) + 75}%\n• Last Review: ${Math.floor(Math.random() * 24)} hours ago\n\nFull review management available in production dashboard.`);
        }

        function respondToReview(type) {
            console.log(`Opening response composer for ${type} review...`);

            const responseTypes = {
                urgent: 'Critical Response Needed',
                positive: 'Thank You Response',
                neutral: 'Standard Response'
            };

            alert(`${responseTypes[type]}:\n\n• AI-suggested response templates available\n• Sentiment analysis integrated\n• Auto-save drafts\n• Multi-platform publishing\n• Response tracking and follow-up\n\nOpening response composer...`);
        }

        function viewFullReview() {
            console.log('Opening full review details...');
            alert('Full Review Details:\n\n• Complete review text and media\n• Customer history and profile\n• Previous interactions\n• Sentiment analysis scores\n• Response suggestions\n• Platform-specific formatting\n\nDetailed view available in production dashboard.');
        }

        function manageTemplates() {
            console.log('Opening template management...');
            alert('Response Template Management:\n\n• Create custom templates\n• AI-powered suggestions\n• A/B test responses\n• Performance analytics\n• Multi-language support\n• Brand voice consistency checks\n\nTemplate editor available in production dashboard.');
        }

        function useTemplate(templateType) {
            console.log(`Using ${templateType} template...`);

            const templates = {
                '5star': '5-Star Thank You',
                'concern': 'Concern Resolution',
                'general': 'General Appreciation',
                'recovery': 'Service Recovery'
            };

            alert(`Using ${templates[templateType]} Template:\n\n• Template loaded into composer\n• Auto-personalization applied\n• Platform-specific formatting\n• Brand compliance checked\n• Ready for review and sending\n\nTemplate composer opening...`);
        }

        function editTemplate(templateType) {
            console.log(`Editing ${templateType} template...`);
            alert('Template Editor Features:\n\n• Visual template builder\n• Dynamic placeholders\n• A/B testing options\n• Performance metrics\n• Multi-platform preview\n• Team collaboration tools\n\nEditor available in production dashboard.');
        }

        function handleUrgentReviews() {
            console.log('Opening urgent reviews queue...');
            alert('Urgent Reviews Management:\n\n• 8 critical reviews requiring immediate response\n• Auto-prioritization by sentiment severity\n• Response time tracking\n• Escalation workflows\n• Team notification system\n\nUrgent queue opening...');
        }

        function handlePendingReviews() {
            console.log('Opening pending reviews queue...');
            alert('Pending Reviews Queue:\n\n• 15 reviews awaiting responses\n• Automated triage and routing\n• Response deadline tracking\n• Template suggestions\n• Batch processing tools\n\nPending queue opening...');
        }

        function generateReviewReport() {
            console.log('Generating review analytics report...');

            const reportBtn = event.target;
            const originalText = reportBtn.textContent;
            reportBtn.innerHTML = 'Generating...';
            reportBtn.disabled = true;

            setTimeout(() => {
                // Create and download mock report
                const reportContent = `Review Management Report - ${new Date().toLocaleDateString()}

EXECUTIVE SUMMARY
================
Average Rating: 4.7/5.0 (+0.2 from last month)
Total Reviews: 287 (+32 new reviews)
Response Rate: 96% (+4% improvement)
Response Time: 2.3 hours (target: <4 hours)

PLATFORM BREAKDOWN
==================
Google My Business: 156 reviews (4.8 avg)
Facebook: 89 reviews (4.6 avg)
Yelp: 42 reviews (4.5 avg)
CarGurus: 23 reviews (4.9 avg)

SENTIMENT ANALYSIS
==================
5-Star Reviews: 68% (excellent service, friendly staff)
4-Star Reviews: 22% (good experience, fair price)
3-Star Reviews: 7% (average experience)
1-2 Star Reviews: 3% (slow process, communication issues)

ACTION ITEMS
============
• 8 urgent responses needed (target: <2 hours)
• 15 pending responses (target: <24 hours)
• Template optimization for concern resolution
• Staff training on follow-up communication

KEYWORDS ANALYSIS
=================
Top Positive: excellent service, friendly staff, great experience
Areas for Improvement: slow process, follow-up communication
Trending Topics: financing options, vehicle selection, service quality`;

                const blob = new Blob([reportContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `review-report-${new Date().toISOString().split('T')[0]}.txt`;
                a.click();
                window.URL.revokeObjectURL(url);

                reportBtn.innerHTML = originalText;
                reportBtn.disabled = false;
            }, 3000);
        }

        function setupReviewAlerts() {
            console.log('Opening alert configuration...');
            alert('Review Alert Configuration:\n\n• Real-time new review notifications\n• Negative review instant alerts\n• Response deadline reminders\n• Weekly performance reports\n• Team assignment notifications\n• Custom alert rules\n\nAlert setup available in production dashboard.');
        }

        function openReviewComposer() {
            console.log('Opening review response composer...');
            alert('Review Response Composer:\n\n• AI-powered response suggestions\n• Multi-platform publishing\n• Sentiment-appropriate templates\n• Brand voice consistency\n• Response performance tracking\n• Team collaboration features\n\nComposer available in production dashboard.');
        }

        function exportReviewData() {
            console.log('Exporting review data...');

            const exportBtn = event.target;
            const originalText = exportBtn.textContent;
            exportBtn.innerHTML = '<span>Exporting...</span>';
            exportBtn.disabled = true;

            setTimeout(() => {
                const csvContent = `Review Export - ${new Date().toLocaleDateString()}
Platform,Reviewer,Rating,Date,Status,Response Status
Google,Sarah M.,2,2024-01-15,Urgent,Pending
Facebook,Mike R.,5,2024-01-15,Positive,Completed
Yelp,Jennifer L.,4,2024-01-14,Neutral,Completed
Google,David K.,5,2024-01-14,Positive,Completed
CarGurus,Lisa W.,1,2024-01-13,Critical,In Progress
Facebook,Tom H.,4,2024-01-13,Positive,Completed
Google,Amy S.,3,2024-01-12,Neutral,Completed
Yelp,John D.,5,2024-01-12,Positive,Completed`;

                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `review-data-${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                window.URL.revokeObjectURL(url);

                exportBtn.innerHTML = originalText;
                exportBtn.disabled = false;
            }, 2000);
        }

        function scheduleReviewAudit() {
            console.log('Opening review audit scheduler...');
            alert('Review Audit Scheduling:\n\n• Daily review monitoring\n• Weekly comprehensive reports\n• Monthly reputation analysis\n• Competitor comparison audits\n• Performance trend analysis\n• Automated action recommendations\n\nScheduler available in production dashboard.');
        }

        function viewReviewTrends() {
            console.log('Opening review trends analysis...');
            alert('Review Trends Analysis:\n\n• 30-day performance trends\n• Seasonal patterns analysis\n• Platform comparison metrics\n• Sentiment trend tracking\n• Response time improvements\n• Competitive benchmarking\n\nTrends dashboard available in production.');
        }

        // Initialize Review Management features when tab is selected
        function initializeReviewManagement() {
            console.log('⭐ Initializing Review Management dashboard...');

            // Animate rating progress bars
            setTimeout(() => {
                const statBars = document.querySelectorAll('.stat-fill');
                statBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 300);
                });
            }, 500);

            // Simulate real-time review updates
            setTimeout(() => {
                const urgentCount = document.querySelector('.action-stat.urgent');
                if (urgentCount) {
                    const currentCount = parseInt(urgentCount.textContent);
                    urgentCount.textContent = `${Math.max(0, currentCount - 1)} Urgent`;
                }
            }, 2000);
        }

        // Settings Tab Functions
        function showSettingsSection(section) {
            console.log(`Showing settings section: ${section}`);

            // Hide all sections
            document.querySelectorAll('.settings-section').forEach(s => {
                s.classList.remove('active');
            });

            // Remove active from nav buttons
            document.querySelectorAll('.settings-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected section
            const selectedSection = document.getElementById(`settings-${section}`);
            if (selectedSection) {
                selectedSection.classList.add('active');
            }

            // Activate nav button
            const selectedBtn = document.querySelector(`[data-section="${section}"]`);
            if (selectedBtn) {
                selectedBtn.classList.add('active');
            }
        }

        // General Settings Functions
        function changeTheme(theme) {
            console.log(`Changing theme to: ${theme}`);
            // In production, this would apply the actual theme
            alert(`Theme changed to: ${theme}\n\nThis setting will be saved and applied on next page load.`);
        }

        function toggleCompactSidebar(enabled) {
            console.log(`Compact sidebar: ${enabled}`);
            // Visual feedback
            const feedback = enabled ? 'enabled' : 'disabled';
            console.log(`Compact sidebar ${feedback}`);
        }

        function toggleAnimations(enabled) {
            console.log(`Animations: ${enabled}`);
            // In production, this would enable/disable animations globally
            if (!enabled) {
                document.documentElement.style.setProperty('--transition', '0s');
            } else {
                document.documentElement.style.setProperty('--transition', '0.3s cubic-bezier(0.4, 0, 0.2, 1)');
            }
        }

        function editBusinessInfo() {
            console.log('Opening business info editor...');
            alert('Business Information Editor:\n\n• Edit business name and contact details\n• Update location and timezone\n• Manage business hours\n• Configure service areas\n• Update branding preferences\n\nEditor available in production dashboard.');
        }

        // API Configuration Functions
        function testAllConnections() {
            console.log('Testing all API connections...');

            const testBtn = event.target;
            const originalText = testBtn.textContent;
            testBtn.textContent = 'Testing...';
            testBtn.disabled = true;

            setTimeout(() => {
                // Simulate connection tests
                const results = {
                    'Google Analytics': 'Connected',
                    'Search Console': 'Connected',
                    'My Business': 'Connected',
                    'Facebook API': 'Limited Access',
                    'Yelp Fusion': 'Connected',
                    'Supabase': 'Connected'
                };

                let message = 'API Connection Test Results:\n\n';
                Object.entries(results).forEach(([api, status]) => {
                    const icon = status === 'Connected' ? '✅' : '⚠️';
                    message += `${icon} ${api}: ${status}\n`;
                });

                alert(message);

                testBtn.textContent = originalText;
                testBtn.disabled = false;
            }, 3000);
        }

        function manageApiKeys() {
            console.log('Opening API key management...');
            alert('API Key Management:\n\n• View and edit stored API keys\n• Test individual key validity\n• Set up key rotation schedules\n• Configure backup keys\n• Monitor key usage and expiration\n• Secure key sharing with team\n\nKey manager available in production dashboard.');
        }

        function rotateApiKeys() {
            console.log('Rotating API keys...');
            alert('API Key Rotation:\n\n• Generate new keys for all services\n• Update stored credentials\n• Test new key functionality\n• Deactivate old keys safely\n• Update team access permissions\n\nRotation process available in production.');
        }

        function exportApiConfig() {
            console.log('Exporting API configuration...');

            const configContent = `# DealershipAI API Configuration Export
# Generated: ${new Date().toISOString()}

[google_services]
analytics_property_id=GA4-XXXXXXXXX
search_console_site_url=https://premiumauto.com
my_business_location_id=XXXXXXXXXXXXXXXXXX

[social_platforms]
facebook_page_id=XXXXXXXXXXXXXXXXXX
yelp_business_id=XXXXXXXXXXXXXXXXXX

[database]
supabase_url=https://your-project.supabase.co
supabase_anon_key=[MASKED]

[settings]
auto_refresh_interval=15
rate_limit_threshold=0.9
notification_enabled=true

# Note: Sensitive keys have been masked for security`;

            const blob = new Blob([configContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `api-config-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function validateAllKeys() {
            console.log('Validating all API keys...');
            alert('API Key Validation:\n\n• Check key authenticity\n• Verify permissions and scopes\n• Test rate limits and quotas\n• Confirm expiration dates\n• Validate access to required endpoints\n\nValidation results available in production dashboard.');
        }

        // Notification Functions
        function toggleNotificationCategory(category, enabled) {
            console.log(`${category} notifications: ${enabled ? 'enabled' : 'disabled'}`);
        }

        function testNotifications() {
            console.log('Testing notification delivery...');
            alert('Testing Notifications:\n\n📧 Email: Test message sent to admin@premiumauto.com\n💬 Slack: Test message sent to #dealership-alerts\n📱 SMS: Test disabled (not configured)\n\nCheck your notification channels for test messages.');
        }

        function configureSlack() {
            console.log('Opening Slack configuration...');
            alert('Slack Integration Setup:\n\n• Connect to your Slack workspace\n• Select notification channels\n• Configure message formats\n• Set up bot permissions\n• Test message delivery\n• Manage team notifications\n\nSlack app available in production dashboard.');
        }

        // Team Management Functions
        function inviteTeamMember() {
            console.log('Opening team member invitation...');
            alert('Invite Team Member:\n\n• Send email invitations\n• Set role and permissions\n• Configure access levels\n• Manage onboarding process\n• Track invitation status\n• Bulk import team members\n\nTeam management available in production dashboard.');
        }

        function showRolePermissions(role) {
            console.log(`Showing permissions for role: ${role}`);

            const permissions = {
                admin: {
                    'View all tabs': '✓',
                    'Export data': '✓',
                    'Respond to reviews': '✓',
                    'Manage templates': '✓',
                    'Modify settings': '✓',
                    'Manage API keys': '✓',
                    'Manage team': '✓',
                    'Billing access': '✓'
                },
                manager: {
                    'View all tabs': '✓',
                    'Export data': '✓',
                    'Respond to reviews': '✓',
                    'Manage templates': '✓',
                    'Modify settings': '✗',
                    'Manage API keys': '✗',
                    'Manage team': '✓',
                    'Billing access': '✗'
                },
                basic: {
                    'View all tabs': '✓',
                    'Export data': '✗',
                    'Respond to reviews': '✗',
                    'Manage templates': '✗',
                    'Modify settings': '✗',
                    'Manage API keys': '✗',
                    'Manage team': '✗',
                    'Billing access': '✗'
                }
            };

            // Update permissions display
            const permissionsGrid = document.getElementById('role-permissions');
            if (permissionsGrid && permissions[role]) {
                // In production, this would update the permissions display
                console.log(`Updated permissions display for ${role} role`);
            }
        }

        // Security Functions
        function toggle2FA(enabled) {
            console.log(`Two-factor authentication: ${enabled ? 'enabled' : 'disabled'}`);
            if (enabled) {
                alert('Two-Factor Authentication:\n\n• Download authenticator app\n• Scan QR code to add account\n• Enter verification code\n• Save backup codes securely\n• Test login with 2FA\n\n2FA setup available in production dashboard.');
            }
        }

        function changePassword() {
            console.log('Opening password change form...');
            alert('Change Password:\n\n• Enter current password\n• Set new strong password\n• Confirm password match\n• Optional: Force logout on all devices\n• Update security recovery options\n\nPassword management available in production dashboard.');
        }

        function viewLoginHistory() {
            console.log('Opening login history...');
            alert('Login History:\n\n• Recent login attempts and locations\n• Device and browser information\n• Success/failure status\n• IP address tracking\n• Suspicious activity alerts\n• Session duration tracking\n\nLogin history available in production dashboard.');
        }

        function revokeAllSessions() {
            console.log('Revoking all active sessions...');
            if (confirm('This will log you out of all devices and browsers. Continue?')) {
                alert('All Sessions Revoked:\n\n• Current session will end shortly\n• All other devices logged out\n• API tokens invalidated\n• Team member sessions preserved\n• Re-authentication required\n\nYou will be redirected to login page.');
            }
        }

        function downloadDataExport() {
            console.log('Generating data export...');

            const exportBtn = event.target;
            const originalText = exportBtn.textContent;
            exportBtn.textContent = 'Generating...';
            exportBtn.disabled = true;

            setTimeout(() => {
                const exportContent = `# DealershipAI Data Export
# Generated: ${new Date().toISOString()}
# Account: Premium Auto Dealership

## Dashboard Settings
Theme: Light
Auto-refresh: Enabled (15 min intervals)
Animations: Enabled

## API Connections
Google Analytics: Connected
Google Search Console: Connected
Google My Business: Connected
Facebook Business: Limited Access
Yelp Fusion: Connected
Supabase Database: Connected

## Notification Preferences
Email Notifications: Enabled (admin@premiumauto.com)
Slack Integration: Enabled (#dealership-alerts)
SMS Notifications: Disabled

## Team Members
- Admin User (Owner) - Active
- Marketing Manager (Manager) - Active
- Sales Rep (Viewer) - Pending

## Security Settings
Two-Factor Authentication: Enabled
Session Timeout: 1 hour
Login Notifications: Enabled
Data Retention: 1 year

## Usage Statistics (Last 30 Days)
Dashboard Views: 1,247
API Requests: 15,683
Reviews Managed: 142
Reports Generated: 23

Note: Sensitive data and API keys have been excluded from this export.`;

                const blob = new Blob([exportContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dealershipai-data-export-${new Date().toISOString().split('T')[0]}.txt`;
                a.click();
                window.URL.revokeObjectURL(url);

                exportBtn.textContent = originalText;
                exportBtn.disabled = false;
            }, 2000);
        }

        // Danger Zone Functions
        function resetAllSettings() {
            console.log('Resetting all settings...');
            if (confirm('⚠️ This will reset ALL settings to default values. This cannot be undone. Continue?')) {
                alert('Settings Reset:\n\n• All preferences restored to defaults\n• API configurations preserved\n• Team members and permissions unchanged\n• Notification settings reset\n• Theme and display options reset\n\nSettings have been restored to factory defaults.');
            }
        }

        function clearAllData() {
            console.log('Clearing all data...');
            if (confirm('🚨 DANGER: This will permanently delete ALL dashboard data including historical metrics, cached data, and user preferences. This cannot be undone. Continue?')) {
                if (confirm('Final confirmation: Are you absolutely sure you want to delete all data? This is irreversible.')) {
                    alert('Data Clearing Process:\n\n• Historical performance data deleted\n• Cached review data cleared\n• User preferences removed\n• API cache cleared\n• Temporary files deleted\n• Settings preserved\n\nAll historical data has been permanently deleted.');
                }
            }
        }

        // Settings Footer Functions
        function saveAllSettings() {
            console.log('Saving all settings...');

            const saveBtn = event.target;
            const originalText = saveBtn.textContent;
            saveBtn.innerHTML = '<span>Saving...</span>';
            saveBtn.disabled = true;

            setTimeout(() => {
                alert('Settings Saved Successfully:\n\n✅ General preferences updated\n✅ API configuration saved\n✅ Notification settings applied\n✅ Team permissions updated\n✅ Security settings activated\n\nAll changes have been saved and will take effect immediately.');

                saveBtn.innerHTML = originalText;
                saveBtn.disabled = false;

                // Update saved indicators
                document.querySelectorAll('.setting-status').forEach(status => {
                    if (status.classList.contains('saved')) {
                        status.textContent = 'Saved';
                        status.style.background = 'rgba(52, 199, 89, 0.1)';
                        status.style.color = 'var(--apple-green)';
                    }
                });
            }, 2000);
        }

        function resetToDefaults() {
            console.log('Resetting to default settings...');
            if (confirm('Reset all settings to their default values?')) {
                alert('All settings have been reset to default values.\n\nClick "Save All Settings" to apply the changes.');
            }
        }

        // Initialize Settings features when tab is selected
        function initializeSettings() {
            console.log('⚙️ Initializing Settings dashboard...');

            // Ensure General section is active by default
            showSettingsSection('general');

            // Animate any progress bars or status indicators
            setTimeout(() => {
                const rateLimitBars = document.querySelectorAll('.rate-limit-fill');
                rateLimitBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 300);
                });
            }, 500);
        }

        // Schema Optimization Tab Functions
        function refreshSchemaData() {
            console.log('Refreshing schema data...');

            const refreshBtn = event.target;
            const originalText = refreshBtn.textContent;
            refreshBtn.textContent = 'Refreshing...';
            refreshBtn.disabled = true;

            setTimeout(() => {
                // Simulate new schema data
                const schemaData = {
                    coverageScore: Math.floor(Math.random() * 15) + 80 + '%',
                    totalPages: Math.floor(Math.random() * 30) + 240,
                    validationIssues: Math.floor(Math.random() * 10) + 25,
                    aeoScore: Math.floor(Math.random() * 20) + 70,
                    detailedAeo: Math.floor(Math.random() * 20) + 70 + '/100'
                };

                // Update metrics with animation
                Object.keys(schemaData).forEach(key => {
                    const elements = document.querySelectorAll(`[data-schema-metric="${key.replace(/([A-Z])/g, '-$1').toLowerCase()}"]`);
                    elements.forEach(element => {
                        element.style.opacity = '0.5';
                        setTimeout(() => {
                            element.textContent = schemaData[key];
                            element.style.opacity = '1';
                        }, 300);
                    });
                });

                refreshBtn.textContent = originalText;
                refreshBtn.disabled = false;
            }, 2000);
        }

        function viewSchemaDetails(schemaType) {
            console.log(`Viewing details for ${schemaType} schema...`);

            const schemaDetails = {
                autodealer: {
                    name: 'AutoDealer Schema',
                    pages: 47,
                    health: '98%',
                    details: 'Complete implementation across all dealership location pages with full contact info, hours, and services.'
                },
                vehicle: {
                    name: 'Vehicle Schema',
                    pages: 156,
                    health: '95%',
                    details: 'Comprehensive product markup for all inventory with pricing, features, and availability data.'
                },
                local: {
                    name: 'LocalBusiness Schema',
                    pages: 12,
                    health: '89%',
                    details: 'Location-specific business information with address, phone, and operating hours.'
                },
                review: {
                    name: 'Review Schema',
                    pages: 23,
                    health: '76%',
                    details: 'Customer review markup with ratings and review content. Needs completion on more pages.'
                }
            };

            const schema = schemaDetails[schemaType];
            if (schema) {
                alert(`${schema.name} Details:\n\n• Implementation: ${schema.pages} pages\n• Health Score: ${schema.health}\n• Status: ${schema.details}\n\nDetailed schema viewer available in production dashboard.`);
            }
        }

        function implementSchema(schemaType) {
            console.log(`Implementing ${schemaType} schema...`);

            const implementations = {
                service: {
                    name: 'Service Schema',
                    description: 'Add structured data for dealership services like maintenance, repairs, and warranties',
                    impact: '+8 AEO points'
                },
                faq: {
                    name: 'FAQ Page Schema',
                    description: 'Implement FAQ markup to help AI engines understand common questions and answers',
                    impact: '+12 AEO points'
                }
            };

            const impl = implementations[schemaType];
            if (impl) {
                alert(`${impl.name} Implementation:\n\n${impl.description}\n\nExpected Impact: ${impl.impact}\n\nSchema implementation wizard available in production dashboard.`);
            }
        }

        function fixSchemaIssue(issueType) {
            console.log(`Fixing schema issue: ${issueType}`);

            const fixes = {
                'missing-telephone': {
                    title: 'Missing Telephone Properties',
                    action: 'Add telephone numbers to 8 AutoDealer pages',
                    impact: 'Resolves critical validation errors'
                },
                'invalid-urls': {
                    title: 'Invalid URL Format',
                    action: 'Fix malformed URL properties on 4 Vehicle pages',
                    impact: 'Improves schema validation score'
                },
                'missing-fuel-type': {
                    title: 'Missing Fuel Type',
                    action: 'Add fuelType property to 15 Vehicle pages',
                    impact: 'Enhances search engine understanding'
                },
                'incomplete-address': {
                    title: 'Incomplete Address Data',
                    action: 'Add postal codes to 7 LocalBusiness entries',
                    impact: 'Improves local search optimization'
                }
            };

            const fix = fixes[issueType];
            if (fix) {
                const fixBtn = event.target;
                const originalText = fixBtn.textContent;
                fixBtn.textContent = 'Fixing...';
                fixBtn.disabled = true;

                setTimeout(() => {
                    alert(`${fix.title} Fixed:\n\n✅ ${fix.action}\n✅ ${fix.impact}\n✅ Validation errors reduced\n\nChanges applied successfully!`);

                    // Update issue count
                    const issuesElement = document.querySelector('[data-schema-metric="validation-issues"]');
                    if (issuesElement) {
                        const currentIssues = parseInt(issuesElement.textContent);
                        issuesElement.textContent = Math.max(0, currentIssues - Math.floor(Math.random() * 5) - 2);
                    }

                    fixBtn.textContent = originalText;
                    fixBtn.disabled = false;
                }, 2000);
            }
        }

        function implementFAQSchema() {
            console.log('Implementing FAQ schema...');
            alert('FAQ Schema Implementation:\n\n• Identify FAQ content across the site\n• Generate structured FAQ markup\n• Apply to relevant pages\n• Validate implementation\n• Expected AEO improvement: +12 points\n\nFAQ schema wizard available in production dashboard.');
        }

        function implementServiceSchema() {
            console.log('Implementing Service schema...');
            alert('Service Schema Implementation:\n\n• Map dealership services\n• Create Service schema markup\n• Apply to service pages\n• Include pricing and availability\n• Expected AEO improvement: +8 points\n\nService schema wizard available in production dashboard.');
        }

        function generateSchema() {
            console.log('Generating schema code...');

            const schemaType = document.getElementById('schema-type-select').value;
            const pageUrl = document.getElementById('page-url-input').value;

            if (!schemaType) {
                alert('Please select a schema type first.');
                return;
            }

            const generateBtn = event.target;
            const originalText = generateBtn.textContent;
            generateBtn.textContent = 'Generating...';
            generateBtn.disabled = true;

            setTimeout(() => {
                // Sample schema code based on type
                const schemaCodes = {
                    vehicle: `{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "2024 Honda Civic",
  "brand": {
    "@type": "Brand",
    "name": "Honda"
  },
  "model": "Civic",
  "vehicleModelDate": "2024",
  "bodyType": "Sedan",
  "fuelType": "Gasoline",
  "offers": {
    "@type": "Offer",
    "priceCurrency": "USD",
    "price": "24500",
    "availability": "https://schema.org/InStock",
    "seller": {
      "@type": "AutoDealer",
      "name": "Premium Auto Dealership"
    }
  }
}`,
                    service: `{
  "@context": "https://schema.org/",
  "@type": "Service",
  "name": "Vehicle Maintenance Service",
  "description": "Comprehensive vehicle maintenance and repair services",
  "provider": {
    "@type": "AutoDealer",
    "name": "Premium Auto Dealership",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "123 Main Street",
      "addressLocality": "Your City",
      "addressRegion": "ST",
      "postalCode": "12345"
    }
  },
  "offers": {
    "@type": "Offer",
    "priceCurrency": "USD",
    "price": "150",
    "availability": "https://schema.org/InStock"
  }
}`,
                    faq: `{
  "@context": "https://schema.org/",
  "@type": "FAQPage",
  "mainEntity": [{
    "@type": "Question",
    "name": "What financing options do you offer?",
    "acceptedAnswer": {
      "@type": "Answer",
      "text": "We offer competitive financing through multiple lenders with flexible terms and competitive rates."
    }
  }, {
    "@type": "Question",
    "name": "Do you accept trade-ins?",
    "acceptedAnswer": {
      "@type": "Answer",
      "text": "Yes, we accept trade-ins and provide competitive valuations for your current vehicle."
    }
  }]
}`,
                    local: `{
  "@context": "https://schema.org/",
  "@type": "AutoDealer",
  "name": "Premium Auto Dealership",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "123 Main Street",
    "addressLocality": "Your City",
    "addressRegion": "ST",
    "postalCode": "12345"
  },
  "telephone": "+1-555-123-4567",
  "url": "${pageUrl || 'https://premiumauto.com'}",
  "openingHours": [
    "Mo-Fr 09:00-18:00",
    "Sa 09:00-17:00"
  ]
}`
                };

                const generatedCode = schemaCodes[schemaType] || '{\n  "@context": "https://schema.org/",\n  "@type": "Thing",\n  "name": "Sample Schema"\n}';

                // Show output
                document.getElementById('schemaGeneratorOutput').style.display = 'block';
                document.getElementById('generatedSchemaCode').textContent = generatedCode;

                generateBtn.textContent = originalText;
                generateBtn.disabled = false;
            }, 1500);
        }

        function copySchemaCode() {
            const codeBlock = document.getElementById('generatedSchemaCode');
            const text = codeBlock.textContent;

            navigator.clipboard.writeText(text).then(() => {
                const copyBtn = event.target;
                const originalText = copyBtn.textContent;
                copyBtn.textContent = 'Copied!';
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            }).catch(() => {
                alert('Schema code copied to clipboard!');
            });
        }

        function runBulkOperation(operationType) {
            console.log(`Running bulk operation: ${operationType}`);

            const operations = {
                'vehicle-update': {
                    name: 'Vehicle Inventory Update',
                    duration: 15000,
                    pages: 156
                },
                'location-sync': {
                    name: 'Location Schema Sync',
                    duration: 8000,
                    pages: 12
                },
                'validation-scan': {
                    name: 'Schema Validation Scan',
                    duration: 12000,
                    pages: 247
                },
                'faq-generation': {
                    name: 'FAQ Schema Generation',
                    duration: 10000,
                    pages: 23
                }
            };

            const operation = operations[operationType];
            if (!operation) return;

            const operationBtn = event.target;
            const originalText = operationBtn.textContent;
            operationBtn.disabled = true;

            // Show progress
            const bulkProgress = document.getElementById('bulkProgress');
            const progressBar = document.getElementById('bulkProgressBar');
            const progressText = bulkProgress.querySelector('.progress-text');

            bulkProgress.style.display = 'flex';
            progressText.textContent = `Processing ${operation.name}...`;

            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;

                progressBar.style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        alert(`${operation.name} Complete:\n\n✅ Processed ${operation.pages} pages\n✅ Schema markup updated\n✅ Validation completed\n✅ AEO score improved\n\nOperation completed successfully!`);

                        bulkProgress.style.display = 'none';
                        progressBar.style.width = '0%';
                        operationBtn.textContent = originalText;
                        operationBtn.disabled = false;
                    }, 1000);
                }
            }, operation.duration / 20);
        }

        function runFullSchemaAudit() {
            console.log('Running full schema audit...');

            const auditBtn = event.target;
            const originalText = auditBtn.textContent;
            auditBtn.innerHTML = '<span>Running Audit...</span>';
            auditBtn.disabled = true;

            setTimeout(() => {
                alert('Full Schema Audit Complete:\n\n📊 247 pages analyzed\n✅ 6 schema types evaluated\n⚠️ 34 issues identified\n🔧 12 critical fixes needed\n📈 AEO score: 73/100\n\nDetailed audit report available for download.');

                auditBtn.innerHTML = originalText;
                auditBtn.disabled = false;
            }, 4000);
        }

        function exportSchemaReport() {
            console.log('Exporting schema report...');

            const exportBtn = event.target;
            const originalText = exportBtn.textContent;
            exportBtn.innerHTML = '<span>Generating Report...</span>';
            exportBtn.disabled = true;

            setTimeout(() => {
                const reportContent = `Schema Optimization Report - ${new Date().toLocaleDateString()}

EXECUTIVE SUMMARY
================
Overall Schema Health: 87%
Total Pages with Schema: 247
AEO Score: 73/100
Critical Issues: 12
Recommended Actions: 8

SCHEMA IMPLEMENTATION STATUS
============================
AutoDealer Schema: 98% (47 pages)
Vehicle Schema: 95% (156 pages)
LocalBusiness Schema: 89% (12 pages)
Review Schema: 76% (23 pages)
Service Schema: 0% (Not implemented)
FAQ Schema: 0% (Not implemented)

VALIDATION ISSUES
=================
Critical Issues (12):
• Missing telephone properties: 8 pages
• Invalid URL format: 4 pages

Warning Issues (22):
• Missing fuel type: 15 pages
• Incomplete address: 7 pages

AI ENGINE OPTIMIZATION (AEO)
=============================
Content Discoverability: 82/100
Entity Recognition: 91/100
Answer Engine Optimization: 65/100
Citation Potential: 78/100

TOP RECOMMENDATIONS
===================
1. Implement FAQ schema markup (+12 AEO points)
2. Add Service schema (+8 AEO points)
3. Fix critical validation issues (+15 coverage)
4. Complete Review schema coverage (+8 coverage)

TECHNICAL DETAILS
=================
Pages Scanned: 247
Schema Types Found: 4
Validation Errors: 34
Last Audit: ${new Date().toISOString()}

Generated by DealershipAI Schema Optimizer`;

                const blob = new Blob([reportContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `schema-report-${new Date().toISOString().split('T')[0]}.txt`;
                a.click();
                window.URL.revokeObjectURL(url);

                exportBtn.innerHTML = originalText;
                exportBtn.disabled = false;
            }, 2000);
        }

        function scheduleSchemaMonitoring() {
            console.log('Opening schema monitoring scheduler...');
            alert('Schema Monitoring Schedule:\n\n• Daily validation checks\n• Weekly comprehensive audits\n• Real-time issue detection\n• AEO score tracking\n• Automatic fix suggestions\n• Performance impact analysis\n\nScheduler available in production dashboard.');
        }

        function viewSchemaDocumentation() {
            console.log('Opening schema documentation...');
            alert('Schema Documentation:\n\n• Implementation guides for each schema type\n• Best practices for dealership websites\n• AEO optimization strategies\n• Validation troubleshooting\n• Industry-specific examples\n• Integration with CMS systems\n\nFull documentation available in production dashboard.');
        }

        // Initialize Schema Optimization features when tab is selected
        function initializeSchemaOptimization() {
            console.log('🔍 Initializing Schema Optimization dashboard...');

            // Animate progress bars
            setTimeout(() => {
                const categoryBars = document.querySelectorAll('.category-fill');
                categoryBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 300);
                });
            }, 500);

            // Simulate real-time updates
            setTimeout(() => {
                const coverageElement = document.querySelector('[data-schema-metric="coverage-score"]');
                if (coverageElement && Math.random() > 0.7) {
                    const currentCoverage = parseInt(coverageElement.textContent);
                    coverageElement.textContent = (currentCoverage + 1) + '%';
                }
            }, 3000);
        }

        // Enhanced switchTab function to include all tab initializations
        const originalSwitchTab = switchTab;
        switchTab = function(tabName) {
            originalSwitchTab.call(this, tabName);

            if (tabName === 'website') {
                setTimeout(() => {
                    initializeWebsitePerformance();
                }, 300);
            } else if (tabName === 'reviews') {
                setTimeout(() => {
                    initializeReviewManagement();
                }, 300);
            } else if (tabName === 'settings') {
                setTimeout(() => {
                    initializeSettings();
                }, 300);
            } else if (tabName === 'schema') {
                setTimeout(() => {
                    initializeSchemaOptimization();
                }, 300);
            }
        };
    </script>

    <!-- ERROR ELIMINATION SYSTEM -->
    <script src="storage-wrapper.js"></script>
    <script src="extension-conflict-resolver.js"></script>
    <script src="final-clean-fix.js"></script>

    <!-- Clerk Authentication and User Tracking -->
    <script src="clerk-config.js" type="module"></script>
    <script src="api/remarketing.js" type="module"></script>

    <!-- Initialize Authentication -->
    <script>
        // Set your actual Clerk keys here
        const CLERK_PUBLISHABLE_KEY = 'pk_test_c291bmQtYmVlLTQwLmNsZXJrLmFjY291bnRzLmRldiQ';

        // Initialize authentication on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is authenticated
            const existingSession = localStorage.getItem('dealership_session');

            if (!existingSession) {
                // Show Level 1 access login
                showLevel1Login();
            } else {
                // Validate existing session and enable tracking
                initializeUserTracking();
            }
        });

        function showLevel1Login() {
            const loginHTML = `
                <div id="level1-auth-overlay" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.9);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    backdrop-filter: blur(10px);
                ">
                    <div style="
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        padding: 3rem;
                        border-radius: 20px;
                        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
                        width: 450px;
                        max-width: 90%;
                        text-align: center;
                        color: white;
                    ">
                        <div style="margin-bottom: 2rem;">
                            <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">🚗 DealershipAI</h1>
                            <p style="font-size: 1.1rem; opacity: 0.9;">Access Level 1 - Dashboard Preview</p>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.1); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
                            <p style="font-size: 0.95rem; line-height: 1.6;">
                                Get exclusive access to our automotive intelligence platform.
                                Sign in to explore Level 1 features and see what's possible.
                            </p>
                        </div>

                        <div id="clerk-signin-container" style="margin-bottom: 1.5rem;"></div>

                        <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                            <button onclick="signInWithGoogle()" style="
                                flex: 1;
                                background: #fff;
                                color: #333;
                                border: none;
                                padding: 12px 20px;
                                border-radius: 8px;
                                font-weight: 600;
                                cursor: pointer;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                gap: 8px;
                                transition: transform 0.2s;
                            " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                                <svg width="16" height="16" viewBox="0 0 24 24">
                                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                </svg>
                                Continue with Google
                            </button>
                        </div>

                        <div style="display: flex; gap: 1rem;">
                            <button onclick="signInWithEmail()" style="
                                flex: 1;
                                background: rgba(255, 255, 255, 0.1);
                                color: white;
                                border: 1px solid rgba(255, 255, 255, 0.3);
                                padding: 12px 20px;
                                border-radius: 8px;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.2s;
                            " onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                                📧 Sign in with Email
                            </button>
                            <button onclick="signUpAsGuest()" style="
                                flex: 1;
                                background: transparent;
                                color: rgba(255, 255, 255, 0.8);
                                border: 1px solid rgba(255, 255, 255, 0.3);
                                padding: 12px 20px;
                                border-radius: 8px;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.2s;
                            " onmouseover="this.style.color='white'; this.style.borderColor='white'" onmouseout="this.style.color='rgba(255,255,255,0.8)'; this.style.borderColor='rgba(255,255,255,0.3)'">
                                👤 Guest Access
                            </button>
                        </div>

                        <div style="margin-top: 1.5rem; font-size: 0.85rem; opacity: 0.7;">
                            <p>✨ Free Level 1 access includes dashboard preview, basic analytics, and feature exploration</p>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', loginHTML);
        }

        async function signInWithGoogle() {
            if (window.clerkAuthManager) {
                // Use Clerk for Google SSO
                try {
                    await window.clerkAuthManager.signIn();
                } catch (error) {
                    console.error('Google sign-in failed:', error);
                    fallbackGuestAccess();
                }
            } else {
                // Fallback to guest access
                fallbackGuestAccess();
            }
        }

        async function signInWithEmail() {
            if (window.clerkAuthManager) {
                try {
                    await window.clerkAuthManager.signUp();
                } catch (error) {
                    console.error('Email sign-in failed:', error);
                    fallbackGuestAccess();
                }
            } else {
                fallbackGuestAccess();
            }
        }

        function signUpAsGuest() {
            // Create anonymous Level 1 user for tracking
            const guestUser = {
                userId: 'guest_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                userTier: 'level1',
                accountType: 'guest',
                createdAt: new Date().toISOString(),
                email: null,
                firstName: 'Guest',
                lastName: 'User'
            };

            // Track guest user
            if (window.remarketingAPI) {
                window.remarketingAPI.track(guestUser);
            }

            // Store guest session
            localStorage.setItem('dealership_session', 'guest_session_' + guestUser.userId);
            localStorage.setItem('dealership_user', JSON.stringify(guestUser));

            // Remove login overlay and initialize dashboard
            document.getElementById('level1-auth-overlay').remove();
            initializeUserTracking();

            // Track guest conversion event
            if (window.gtag) {
                gtag('event', 'guest_signup', {
                    event_category: 'authentication',
                    event_label: 'level1_access'
                });
            }
        }

        function fallbackGuestAccess() {
            console.log('Using guest access as fallback');
            signUpAsGuest();
        }

        function initializeUserTracking() {
            const userData = JSON.parse(localStorage.getItem('dealership_user') || '{}');

            if (userData.userId) {
                // Initialize remarketing tracking
                if (window.remarketingAPI) {
                    window.remarketingAPI.track(userData);
                }

                // Track page view
                if (window.gtag) {
                    gtag('event', 'page_view', {
                        user_id: userData.userId,
                        user_tier: userData.userTier
                    });
                }

                // Show user info in header
                showUserInfo(userData);

                console.log('Level 1 user tracking initialized:', userData);
            }
        }

        function showUserInfo(userData) {
            const userInfo = document.createElement('div');
            userInfo.innerHTML = `
                <div style="position: fixed; top: 10px; right: 10px; background: rgba(255,255,255,0.95); padding: 8px 16px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); z-index: 1000; backdrop-filter: blur(10px);">
                    <span style="margin-right: 15px; font-weight: 600; color: #333;">
                        ${userData.accountType === 'guest' ? '👤' : '👋'} ${userData.firstName}
                        <span style="color: #666; font-weight: normal;">(Level 1)</span>
                    </span>
                    <button onclick="logout()" style="background: #ff4757; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 600;">Sign Out</button>
                </div>
            `;
            document.body.appendChild(userInfo);
        }

        function logout() {
            // Track logout event
            const userData = JSON.parse(localStorage.getItem('dealership_user') || '{}');
            if (window.remarketingAPI && userData.userId) {
                window.remarketingAPI.trackEvent({
                    event: 'user_logout',
                    userId: userData.userId,
                    userTier: userData.userTier
                });
            }

            // Clear storage
            localStorage.removeItem('dealership_session');
            localStorage.removeItem('dealership_user');

            // Reload page to show login
            window.location.reload();
        }
    </script>
</body>
</html>